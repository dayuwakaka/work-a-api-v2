<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>销售优惠 | ADoc</title>
    <meta name="description" content="A团队开发文档">
    
    
    <link rel="preload" href="/work-a-api-v2/assets/css/0.styles.b3d83912.css" as="style"><link rel="preload" href="/work-a-api-v2/assets/js/app.82b94bdb.js" as="script"><link rel="preload" href="/work-a-api-v2/assets/js/7.e8f9550a.js" as="script"><link rel="prefetch" href="/work-a-api-v2/assets/js/5.1bf03c1b.js"><link rel="prefetch" href="/work-a-api-v2/assets/js/2.cda51ec0.js"><link rel="prefetch" href="/work-a-api-v2/assets/js/3.3a72a8b5.js"><link rel="prefetch" href="/work-a-api-v2/assets/js/4.14445561.js"><link rel="prefetch" href="/work-a-api-v2/assets/js/6.d3fd6f9a.js"><link rel="prefetch" href="/work-a-api-v2/assets/js/8.cae13f7b.js"><link rel="prefetch" href="/work-a-api-v2/assets/js/9.257c4191.js"><link rel="prefetch" href="/work-a-api-v2/assets/js/10.3bd700ae.js"><link rel="prefetch" href="/work-a-api-v2/assets/js/11.5ce2da1b.js"><link rel="prefetch" href="/work-a-api-v2/assets/js/12.3ab297fc.js">
    <link rel="stylesheet" href="/work-a-api-v2/assets/css/0.styles.b3d83912.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/work-a-api-v2/" class="home-link router-link-active"><!----> <span class="site-name">ADoc</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/work-a-api-v2/customer/" class="nav-link">客户</a></div><div class="nav-item"><a href="/work-a-api-v2/product/" class="nav-link">产品</a></div><div class="nav-item"><a href="/work-a-api-v2/auth/" class="nav-link">权限</a></div><div class="nav-item"><a href="/work-a-api-v2/contract/" class="nav-link router-link-exact-active router-link-active">销售优惠</a></div><div class="nav-item"><a href="/work-a-api-v2/price/" class="nav-link">价格</a></div><div class="nav-item"><a href="/work-a-api-v2/market/" class="nav-link">营销</a></div><div class="nav-item"><a href="/work-a-api-v2/common/" class="nav-link">基础</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/work-a-api-v2/customer/" class="nav-link">客户</a></div><div class="nav-item"><a href="/work-a-api-v2/product/" class="nav-link">产品</a></div><div class="nav-item"><a href="/work-a-api-v2/auth/" class="nav-link">权限</a></div><div class="nav-item"><a href="/work-a-api-v2/contract/" class="nav-link router-link-exact-active router-link-active">销售优惠</a></div><div class="nav-item"><a href="/work-a-api-v2/price/" class="nav-link">价格</a></div><div class="nav-item"><a href="/work-a-api-v2/market/" class="nav-link">营销</a></div><div class="nav-item"><a href="/work-a-api-v2/common/" class="nav-link">基础</a></div> <!----></nav>  <ul class="sidebar-links"><li><div class="sidebar-group first"><p class="sidebar-heading open"><span>销售优惠</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/work-a-api-v2/contract/#销售优惠" class="sidebar-link">销售优惠</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/work-a-api-v2/contract/#xsyh-1-新增合同" class="sidebar-link">XSYH-1. 新增合同</a></li><li class="sidebar-sub-header"><a href="/work-a-api-v2/contract/#xsyh-2-获取合同列表" class="sidebar-link">XSYH-2.获取合同列表</a></li><li class="sidebar-sub-header"><a href="/work-a-api-v2/contract/#xsyh-3-修改合同状态" class="sidebar-link">XSYH-3.修改合同状态</a></li><li class="sidebar-sub-header"><a href="/work-a-api-v2/contract/#xsyh-4-申请审核" class="sidebar-link">XSYH-4.申请审核</a></li><li class="sidebar-sub-header"><a href="/work-a-api-v2/contract/#xsyh-5-获取合同详情" class="sidebar-link">XSYH-5.获取合同详情</a></li><li class="sidebar-sub-header"><a href="/work-a-api-v2/contract/#xsyh-6-删除合同" class="sidebar-link">XSYH-6.删除合同</a></li><li class="sidebar-sub-header"><a href="/work-a-api-v2/contract/#xsyh-7-获取履约列表" class="sidebar-link">XSYH-7.获取履约列表</a></li><li class="sidebar-sub-header"><a href="/work-a-api-v2/contract/#xsyh-8-获取返利详细数据" class="sidebar-link">XSYH-8.获取返利详细数据</a></li><li class="sidebar-sub-header"><a href="/work-a-api-v2/contract/#xsyh-9-申请履约" class="sidebar-link">XSYH-9.申请履约</a></li><li class="sidebar-sub-header"><a href="/work-a-api-v2/contract/#xsyh-10-履约审批" class="sidebar-link">XSYH-10.履约审批</a></li><li class="sidebar-sub-header"><a href="/work-a-api-v2/contract/#xsyh-11-设置季度能否履约" class="sidebar-link">XSYH-11.设置季度能否履约</a></li><li class="sidebar-sub-header"><a href="/work-a-api-v2/contract/#xsyh-12-获取合同所属的客户群体" class="sidebar-link">XSYH-12.获取合同所属的客户群体</a></li><li class="sidebar-sub-header"><a href="/work-a-api-v2/contract/#xsyh-13-获取客户返利券列表" class="sidebar-link">XSYH-13.获取客户返利券列表</a></li><li class="sidebar-sub-header"><a href="/work-a-api-v2/contract/#xsyh-14-新增客户返利券" class="sidebar-link">XSYH-14.新增客户返利券</a></li><li class="sidebar-sub-header"><a href="/work-a-api-v2/contract/#xsyh-15-客户返利券解锁或锁定" class="sidebar-link">XSYH-15.客户返利券解锁或锁定</a></li><li class="sidebar-sub-header"><a href="/work-a-api-v2/contract/#xsyh-16-获取客户返利券去重后的折扣比例列表" class="sidebar-link">XSYH-16.获取客户返利券去重后的折扣比例列表</a></li><li class="sidebar-sub-header"><a href="/work-a-api-v2/contract/#请求类型-16" class="sidebar-link">请求类型</a></li><li class="sidebar-sub-header"><a href="/work-a-api-v2/contract/#xsyh-17-获取返利券日志列表" class="sidebar-link">XSYH-17.获取返利券日志列表</a></li><li class="sidebar-sub-header"><a href="/work-a-api-v2/contract/#xsyh-18-获取合同新增权限按钮" class="sidebar-link">XSYH-18.获取合同新增权限按钮</a></li></ul></li></ul></div></li></ul> </div> <div class="page"> <div class="content"><h2 id="销售优惠"><a href="#销售优惠" aria-hidden="true" class="header-anchor">#</a> 销售优惠</h2> <p>@(Markdown)</p> <h3 id="xsyh-1-新增合同"><a href="#xsyh-1-新增合同" aria-hidden="true" class="header-anchor">#</a> XSYH-1. 新增合同</h3> <h4 id="请求url"><a href="#请求url" aria-hidden="true" class="header-anchor">#</a> 请求url</h4> <pre><code>/v2/contract
</code></pre> <h4 id="请求类型"><a href="#请求类型" aria-hidden="true" class="header-anchor">#</a> 请求类型</h4> <pre><code>POST
</code></pre> <h4 id="请求参数-独立合同、共享合同、p2p合同"><a href="#请求参数-独立合同、共享合同、p2p合同" aria-hidden="true" class="header-anchor">#</a> 请求参数(独立合同、共享合同、P2P合同)</h4> <table><thead><tr><th>参数</th> <th>名称</th> <th>类型</th> <th>描述</th></tr></thead> <tbody><tr><td>*contractType</td> <td>合同类别</td> <td>String</td> <td>ALONE-独立合同，SHARE-共享合同，CONTINUE-续接合同，P2P-P2P合同</td></tr> <tr><td>*customerIds</td> <td>客户ids</td> <td>String</td> <td>合同主体客户id排在第一位，其余依次排列</td></tr> <tr><td>*details</td> <td>合同四个季度及年度明细</td> <td>Array</td> <td>[{<br>rebateNode:&quot;FIRST&quot;,<br>rebateRate:0,<br>salesPlan:0,<br>startDate:&quot;2018-03-01 00:00:00&quot;,<br>endDate:&quot;2018-05-31 23:59:59&quot;<br>},<br>...]<br> rebateNode: 返利节点（FIRST、SECOND、THIRD、FOURTH、YEAR），<br>rebateRate:返点率（0~100），<br>salesPlan: 目标，<br>startDate:开始日期时间 日期是客户所选，时间是固定在后面加00:00:00，<br>endDate:结束日期时间 日期是客户所选 时间是固定在后面加23:59:59</td></tr> <tr><td>*startDate</td> <td>合同开始日期</td> <td>String</td> <td>日期是客户所选，时间是固定在后面加00:00:00</td></tr> <tr><td>*endDate</td> <td>合同结束日期</td> <td>String</td> <td>日期是客户所选，时间是固定在后面加23:59:59</td></tr> <tr><td>*formalUrl</td> <td>合同扫描件URL</td> <td>String</td> <td>多张合同附件URL以','相隔</td></tr> <tr><td>*subjectName</td> <td>合同主体名称</td> <td>String</td> <td></td></tr> <tr><td>remarks</td> <td>备注</td> <td>String</td> <td>200字符以内</td></tr> <tr><td>*onlyCode</td> <td>本次提交携带的唯一码</td> <td>String</td> <td>防止重复提交用</td></tr></tbody></table> <h4 id="请求参数-续接合同"><a href="#请求参数-续接合同" aria-hidden="true" class="header-anchor">#</a> 请求参数(续接合同)</h4> <table><thead><tr><th>参数</th> <th>名称</th> <th>类型</th> <th>描述</th></tr></thead> <tbody><tr><td>*contractType</td> <td>合同类别</td> <td>String</td> <td>CONTINUE-续接合同</td></tr> <tr><td>*customerIds</td> <td>客户ids</td> <td>String</td> <td>被续接主体排在第一位，续接主体排在第二位，以&quot;,&quot;相隔连接</td></tr> <tr><td>*formalUrl</td> <td>合同附件URL</td> <td>String</td> <td>多张合同附件URL以','相隔</td></tr> <tr><td>*continueStartDate</td> <td>续接合同时，设置的开始时间</td> <td>String</td> <td>日期是客户所选，时间是固定在后面加00:00:00</td></tr> <tr><td>*continueEndDate</td> <td>续接合同时，设置的结束时间</td> <td>String</td> <td>日期是客户所选，时间是固定在后面加23:59:59</td></tr> <tr><td>*subjectName</td> <td>续接合同主体名称</td> <td>String</td> <td></td></tr> <tr><td>remarks</td> <td>备注</td> <td>String</td> <td></td></tr> <tr><td>*onlyCode</td> <td>本次提交携带的唯一码</td> <td>String</td> <td>防止重复提交用</td></tr></tbody></table> <pre><code>请判断好四个季度的起始时间和结束时间，如例：
*各季度时间不允许重叠，时间段必须在年度时间段内，各季度之间的时间可以不连贯！各季度时间为用户选择，非固定时间段
*返点率可以0 范围：0 ~ 100 两位小数
*目标可以为0 范围：0 ~ 1000000000 两位小数
*年度目标不能为0
*四个季度目标之和必须等于年度目标
</code></pre> <p><img src="http://omgzp8h38.bkt.clouddn.com/Fg_HtWJKA_c0F--3bntTBUOIDPfI" alt="avatar"> <img src="http://omgzp8h38.bkt.clouddn.com/FsIEEtwAr48sLDKvnzEBP0MZ7g4q" alt="avatar"></p> <h4 id="返回值"><a href="#返回值" aria-hidden="true" class="header-anchor">#</a> 返回值</h4> <table><thead><tr><th>参数</th> <th>名称</th> <th>描述</th></tr></thead> <tbody><tr><td>code</td> <td>编号</td> <td>100000：成功；0 ~ 99999：失败</td></tr> <tr><td>msg</td> <td>消息</td> <td>新增成功/异常信息</td></tr> <tr><td>data</td> <td>数据</td> <td></td></tr></tbody></table> <h4 id="返回示例"><a href="#返回示例" aria-hidden="true" class="header-anchor">#</a> 返回示例</h4> <pre><code>{
    &quot;code&quot;: &quot;100000&quot;,
    &quot;msg&quot;: &quot;&quot;
}
</code></pre> <h3 id="xsyh-2-获取合同列表"><a href="#xsyh-2-获取合同列表" aria-hidden="true" class="header-anchor">#</a> XSYH-2.获取合同列表</h3> <h4 id="请求url-2"><a href="#请求url-2" aria-hidden="true" class="header-anchor">#</a> 请求url</h4> <pre><code>/v2/contract
</code></pre> <h4 id="请求类型-2"><a href="#请求类型-2" aria-hidden="true" class="header-anchor">#</a> 请求类型</h4> <pre><code>GET
</code></pre> <h4 id="请求参数"><a href="#请求参数" aria-hidden="true" class="header-anchor">#</a> 请求参数</h4> <table><thead><tr><th>参数</th> <th>名称</th> <th>类型</th> <th>描述</th></tr></thead> <tbody><tr><td>name</td> <td>合同主体名称、合同号、创建人名称</td> <td>String</td> <td></td></tr> <tr><td>contractType</td> <td>合同类型</td> <td>String</td> <td>default-value: ALL, ALONE: 独立合同, SHARE: 共享合同, CONTINUE: 续接合同, P2P: P2P合同</td></tr> <tr><td>status</td> <td>合同状态</td> <td>String</td> <td>default-value: ALL, DRAFT：草稿;ASKFOR：转正式待审核;FORMAL：正式;CANCELASKFOR：作废待审核;CANCEL：已作废;INVALID：过期</td></tr> <tr><td>pageNo</td> <td>当前页</td> <td>Number</td> <td>default-value: 1</td></tr> <tr><td>pageSize</td> <td>页面容量</td> <td>Number</td> <td>default-value: 25</td></tr> <tr><td>buttonPermissionFlg</td> <td>按钮权限</td> <td>Number</td> <td>1-查询按钮权限 0-不查询</td></tr></tbody></table> <h4 id="返回值-2"><a href="#返回值-2" aria-hidden="true" class="header-anchor">#</a> 返回值</h4> <h5 id="datas返回值"><a href="#datas返回值" aria-hidden="true" class="header-anchor">#</a> datas返回值</h5> <table><thead><tr><th>参数</th> <th>名称</th> <th>类型</th> <th>描述</th></tr></thead> <tbody><tr><td>id</td> <td>合同id</td> <td>Number</td> <td></td></tr> <tr><td>contractNum</td> <td>合同号</td> <td>String</td> <td></td></tr> <tr><td>contractType</td> <td>合同类型</td> <td>String</td> <td>ALONE: 独立合同, SHARE: 共享合同, CONTINUE: 续接合同, P2P: P2P合同</td></tr> <tr><td>createUserName</td> <td>创建人</td> <td>String</td> <td></td></tr> <tr><td>createTime</td> <td>创建时间</td> <td>String</td> <td></td></tr> <tr><td>subjectName</td> <td>合同主体名称</td> <td>String</td> <td></td></tr> <tr><td>status</td> <td>合同状态</td> <td>String</td> <td>DRAFT：草稿;ASKFOR：转正式待审核;FORMAL：正式;CANCELASKFOR：作废待审核;CANCEL：已作废;INVALID：过期</td></tr></tbody></table> <h5 id="buttonpermissions返回值"><a href="#buttonpermissions返回值" aria-hidden="true" class="header-anchor">#</a> buttonPermissions返回值</h5> <pre><code>返回的集合长度和数据集一样，取对应下标数据即可，true 显示；false 不显示
deleteButton: 删除按钮 ,
changeRegularButton: 转正式,
approvalButton: 审批,
cancelButton: 作废,
detailButton: 详情查看按钮
</code></pre> <h4 id="请求示例"><a href="#请求示例" aria-hidden="true" class="header-anchor">#</a> 请求示例</h4> <pre><code>/v2/contract?pageNo=1&amp;pageSize=25&amp;status=&amp;contractType=&amp;name=
</code></pre> <h4 id="返回示例-2"><a href="#返回示例-2" aria-hidden="true" class="header-anchor">#</a> 返回示例</h4> <pre><code>{
    code: 0,
    msg: &quot;&quot;,
    data: {
        datas: [
                    {
                        id: 1,
                        contractNum: &quot;ASA-c-123456789&quot;,
                        contractType: &quot;ALONE&quot;,
                        createUserName: &quot;苏轼&quot;,
                        createTime: &quot;2018-08-13 00:12:12&quot;,
                        subjectName: &quot;陶渊明&quot;,
                        status: &quot;DRAFT&quot;
                    },
                    ...
        ],
        buttonPermissions:[
                    {
                        deleteButton: false,
                        changeRegularButton: false,
                        approvalButton: false,
                        cancelButton: false
                    },
                    ...
        ],
        total: 1200 (总条数) - Number,
        pageNo: 6 (对应的页码) - Number
    }
}
</code></pre> <h3 id="xsyh-3-修改合同状态"><a href="#xsyh-3-修改合同状态" aria-hidden="true" class="header-anchor">#</a> XSYH-3.修改合同状态</h3> <h4 id="说明"><a href="#说明" aria-hidden="true" class="header-anchor">#</a> 说明</h4> <pre><code>包括合同的转正式申请、作废申请
</code></pre> <h4 id="请求url-3"><a href="#请求url-3" aria-hidden="true" class="header-anchor">#</a> 请求url</h4> <pre><code>/v2/contract/{id}
</code></pre> <h4 id="请求类型-3"><a href="#请求类型-3" aria-hidden="true" class="header-anchor">#</a> 请求类型</h4> <pre><code>PUT
</code></pre> <h4 id="请求参数-2"><a href="#请求参数-2" aria-hidden="true" class="header-anchor">#</a> 请求参数</h4> <table><thead><tr><th>参数</th> <th>名称</th> <th>类型</th> <th>描述</th></tr></thead> <tbody><tr><td>*contractNum</td> <td>合同号</td> <td>String</td> <td></td></tr> <tr><td>*result</td> <td>审核结果</td> <td>String</td> <td>草稿状态合同转正式申请传递ASKFOR；正式合同申请作废传递CANCELASKFOR；</td></tr> <tr><td>remarks</td> <td>备注</td> <td>String</td> <td></td></tr> <tr><td>cancelUrl</td> <td>作废文件URL</td> <td>String</td> <td>作废合同时（必传）传递</td></tr></tbody></table> <h4 id="返回值-3"><a href="#返回值-3" aria-hidden="true" class="header-anchor">#</a> 返回值</h4> <table><thead><tr><th>参数</th> <th>名称</th> <th>描述</th></tr></thead> <tbody><tr><td>code</td> <td>编号</td> <td>100000：成功；0 ~ 99999：失败</td></tr> <tr><td>msg</td> <td>消息</td> <td>修改成功/异常信息</td></tr> <tr><td>data</td> <td>数据</td> <td></td></tr></tbody></table> <h3 id="xsyh-4-申请审核"><a href="#xsyh-4-申请审核" aria-hidden="true" class="header-anchor">#</a> XSYH-4.申请审核</h3> <h4 id="说明-2"><a href="#说明-2" aria-hidden="true" class="header-anchor">#</a> 说明</h4> <pre><code>包括合同转正式审核、作废审核
</code></pre> <h4 id="请求url-4"><a href="#请求url-4" aria-hidden="true" class="header-anchor">#</a> 请求url</h4> <pre><code>/v2/contract/approval/{id}
</code></pre> <h4 id="请求类型-4"><a href="#请求类型-4" aria-hidden="true" class="header-anchor">#</a> 请求类型</h4> <pre><code>PUT
</code></pre> <h4 id="请求参数-3"><a href="#请求参数-3" aria-hidden="true" class="header-anchor">#</a> 请求参数</h4> <table><thead><tr><th>参数</th> <th>名称</th> <th>类型</th> <th>描述</th></tr></thead> <tbody><tr><td>*contractNum</td> <td>合同号</td> <td>String</td> <td></td></tr> <tr><td>*result</td> <td>审核结果</td> <td>String</td> <td>PASS：通过；REFUSE：拒绝</td></tr> <tr><td>remarks</td> <td>备注</td> <td>String</td> <td>200 字符以内</td></tr></tbody></table> <h4 id="返回值-4"><a href="#返回值-4" aria-hidden="true" class="header-anchor">#</a> 返回值</h4> <table><thead><tr><th>参数</th> <th>名称</th> <th>描述</th></tr></thead> <tbody><tr><td>code</td> <td>编号</td> <td>100000：成功；0 ~ 99999：失败</td></tr> <tr><td>msg</td> <td>消息</td> <td>修改成功/异常信息</td></tr> <tr><td>data</td> <td>数据</td> <td></td></tr></tbody></table> <h3 id="xsyh-5-获取合同详情"><a href="#xsyh-5-获取合同详情" aria-hidden="true" class="header-anchor">#</a> XSYH-5.获取合同详情</h3> <h4 id="请求url-5"><a href="#请求url-5" aria-hidden="true" class="header-anchor">#</a> 请求url</h4> <pre><code>/v2/contract/{contractNum}
</code></pre> <h4 id="请求类型-5"><a href="#请求类型-5" aria-hidden="true" class="header-anchor">#</a> 请求类型</h4> <pre><code>GET
</code></pre> <h4 id="请求参数-4"><a href="#请求参数-4" aria-hidden="true" class="header-anchor">#</a> 请求参数</h4> <table><thead><tr><th>参数</th> <th>名称</th> <th>类型</th> <th>描述</th></tr></thead> <tbody><tr><td>*contractNum</td> <td>合同号</td> <td>String</td> <td></td></tr></tbody></table> <h4 id="返回值-5"><a href="#返回值-5" aria-hidden="true" class="header-anchor">#</a> 返回值</h4> <table><thead><tr><th>参数</th> <th>名称</th> <th>类型</th> <th>描述</th></tr></thead> <tbody><tr><td>contract</td> <td>合同基本信息</td> <td>Object</td> <td></td></tr> <tr><td>details</td> <td>合同各季度信息</td> <td>Array</td> <td></td></tr> <tr><td>logs</td> <td>合同日志</td> <td>Array</td> <td></td></tr> <tr><td>subjects</td> <td>合同下属客户</td> <td>Array</td> <td></td></tr> <tr><td>continueInfo</td> <td>续接信息</td> <td>Object</td> <td>如果是续接合同会返回此字段否则不会返回</td></tr></tbody></table> <h5 id="contract信息"><a href="#contract信息" aria-hidden="true" class="header-anchor">#</a> contract信息</h5> <pre><code>{
     contractNum: &quot;ASA-C-2719934593319936&quot; (合同号) - String,
     contractType: &quot;ALONE&quot; (合同类别) - String,
     createUserName: &quot;刘璇&quot; (合同创建人名称) - String,
     createTime: &quot;2018-05-31 19:16:14&quot; (合同创建时间) - String,
     startDate: &quot;2018-03-01 00:00:00&quot; (合同开始时间) - String,
     endDate: &quot;2019-02-28 23:59:59&quot; (合同结束时间) - String,
     formalUrl: &quot;http://omgzp8h38.bkt.clouddn.com/Fsi9JfiEO2V22wxaEzrL5s0QiPiA&quot; (合同附件url以','相隔) - String
}
</code></pre> <h5 id="details-合同明细-信息"><a href="#details-合同明细-信息" aria-hidden="true" class="header-anchor">#</a> details (合同明细)信息</h5> <pre><code>[
    {
        checkStatus:&quot;NORMAL&quot; (当前季度的状态，NORMAL:初始状态, INVALID:待审核, PASS:审核通过, STOP:禁止申请履约) - String,
        contractNum:&quot;ASA-C-2719934593319936&quot; (合同号) - String,
        startDate:&quot;2018-03-01 00:00:00&quot; (当前季度的开始时间) - String,
        endDate:&quot;2018-05-31 23:59:59&quot; (当前季度的结束时间) - String,
        id:6541,
        rebateNode:&quot;FIRST&quot; (季度节点 FIRST:第一季度,SECOND:第二季度,THIRD:第三季度,FOURTH:第四季度,YEAR:年度) - String,
        rebateRate:2 (返点率，前端展示的时候后面加上'%') - Number
        salesPlan:100000 (目标) - Number
    },
    ...
 ]
</code></pre> <h5 id="logs-操作日志-信息"><a href="#logs-操作日志-信息" aria-hidden="true" class="header-anchor">#</a> logs (操作日志)信息</h5> <pre><code>[
    {
        contractNum:&quot;ASA-C-2719934593319936&quot; (合同号) - String,
        action:&quot;用户：宁丽丽转正式审批通过&quot; (动作行为) - String,
        createTime:&quot;2018-05-31 20:11:22&quot; (行为时间) - String,
        remarks: &quot;&quot; (备注) - String
    },
    ...
]
</code></pre> <h5 id="subjects-附属客户-信息"><a href="#subjects-附属客户-信息" aria-hidden="true" class="header-anchor">#</a> subjects (附属客户)信息</h5> <pre><code>[
    {
        customerId： 1 (客户编号) - Number,
        name:&quot;苏州工业园区肉食品市场厨多食品经营部&quot; (下属客户名称) - String
    },
    ...
]
</code></pre> <h5 id="着重强调-如果合同是续接合同还会传递"><a href="#着重强调-如果合同是续接合同还会传递" aria-hidden="true" class="header-anchor">#</a> * 着重强调 如果合同是续接合同还会传递</h5> <pre><code>continueInfo: {
    startDate: 续接起始时间,
    endDate: 续接结束时间
}
</code></pre> <h4 id="请求示例-2"><a href="#请求示例-2" aria-hidden="true" class="header-anchor">#</a> 请求示例</h4> <pre><code>/v2/contract/ASA-C-2719934593319936
</code></pre> <h4 id="返回值示例"><a href="#返回值示例" aria-hidden="true" class="header-anchor">#</a> 返回值示例</h4> <pre><code>{
    code: 0,
    msg: &quot;&quot;,
    data: {
        contract: {...},
        details: [...]
        logs: [...]
        subjects: [...]
        continueInfo: {...}
    }
}
</code></pre> <h3 id="xsyh-6-删除合同"><a href="#xsyh-6-删除合同" aria-hidden="true" class="header-anchor">#</a> XSYH-6.删除合同</h3> <h4 id="请求url-6"><a href="#请求url-6" aria-hidden="true" class="header-anchor">#</a> 请求url</h4> <pre><code>/v2/contract/{id}
</code></pre> <h4 id="请求类型-6"><a href="#请求类型-6" aria-hidden="true" class="header-anchor">#</a> 请求类型</h4> <pre><code>DELETE
</code></pre> <h4 id="请求参数-5"><a href="#请求参数-5" aria-hidden="true" class="header-anchor">#</a> 请求参数</h4> <table><thead><tr><th>参数</th> <th>名称</th> <th>类型</th> <th>描述</th></tr></thead> <tbody><tr><td>*id</td> <td>合同id</td> <td>Number</td> <td></td></tr></tbody></table> <h4 id="返回值-6"><a href="#返回值-6" aria-hidden="true" class="header-anchor">#</a> 返回值</h4> <table><thead><tr><th>参数</th> <th>名称</th> <th>描述</th></tr></thead> <tbody><tr><td>code</td> <td>编号</td> <td>100000：成功；0：失败；</td></tr> <tr><td>msg</td> <td>消息</td> <td>删除成功/异常信息</td></tr> <tr><td>data</td> <td>数据</td> <td></td></tr></tbody></table> <h4 id="请求示例-3"><a href="#请求示例-3" aria-hidden="true" class="header-anchor">#</a> 请求示例</h4> <pre><code> /v2/contract/66585
</code></pre> <h3 id="xsyh-7-获取履约列表"><a href="#xsyh-7-获取履约列表" aria-hidden="true" class="header-anchor">#</a> XSYH-7.获取履约列表</h3> <h4 id="请求url-7"><a href="#请求url-7" aria-hidden="true" class="header-anchor">#</a> 请求url</h4> <pre><code>/v2/contract/performance
</code></pre> <h4 id="请求类型-7"><a href="#请求类型-7" aria-hidden="true" class="header-anchor">#</a> 请求类型</h4> <pre><code>GET
</code></pre> <h4 id="请求参数-6"><a href="#请求参数-6" aria-hidden="true" class="header-anchor">#</a> 请求参数</h4> <table><thead><tr><th>参数</th> <th>名称</th> <th>类型</th> <th>描述</th></tr></thead> <tbody><tr><td>name</td> <td>合同主体名称、合同号、创建人名称</td> <td>String</td> <td></td></tr> <tr><td>checkStatus</td> <td>履约状态</td> <td>String</td> <td>default-value: ALL; NORMAL: 待履约; INVALID:待审核; PASS: 已履约</td></tr> <tr><td>rebateNode</td> <td>节点</td> <td>String</td> <td>default-value: ALL; FIRST:一季度; SECOND：二季度; THIRD：三季度; FOURTH：四季度; YEAR：年度</td></tr> <tr><td>reach</td> <td>达成状态</td> <td>String</td> <td>YES: 已达成; NO: 未达成</td></tr> <tr><td>pageNo</td> <td>当前页</td> <td>Number</td> <td>default-value: 1</td></tr> <tr><td>pageSize</td> <td>页面容量</td> <td>Number</td> <td>default-value: 25</td></tr> <tr><td>buttonPermissionFlg</td> <td>按钮权限</td> <td>Number</td> <td>1-查询按钮权限 0-不查询</td></tr></tbody></table> <h4 id="返回值-7"><a href="#返回值-7" aria-hidden="true" class="header-anchor">#</a> 返回值</h4> <h5 id="datas返回值-2"><a href="#datas返回值-2" aria-hidden="true" class="header-anchor">#</a> datas返回值</h5> <table><thead><tr><th>参数</th> <th>名称</th> <th>类型</th> <th>描述</th></tr></thead> <tbody><tr><td>contractNum</td> <td>合同号</td> <td>String</td> <td></td></tr> <tr><td>contractType</td> <td>合同类别</td> <td>String</td> <td></td></tr> <tr><td>createUserName</td> <td>创建人</td> <td>String</td> <td></td></tr> <tr><td>startDate</td> <td>季度开始时间</td> <td>String</td> <td></td></tr> <tr><td>endDate</td> <td>季度结束时间</td> <td>String</td> <td></td></tr> <tr><td>shouldExistAmt</td> <td>应计入销售总额</td> <td>Number</td> <td></td></tr> <tr><td>salesPercentage</td> <td>销售达成比（即达成比）</td> <td>String</td> <td></td></tr> <tr><td>subjectName</td> <td>合同主体名称</td> <td>String</td> <td></td></tr> <tr><td>rebateNode</td> <td>季度节点</td> <td>String</td> <td>FIRST:一季度; SECOND：二季度; THIRD：三季度; FOURTH：四季度; YEAR：年度</td></tr> <tr><td>performanceStatus</td> <td>季度履约状态</td> <td>String</td> <td>NORMAL:待履约, INVALID:待审核, PASS:已履约, STOP:禁止申请履约</td></tr> <tr><td>salesPlan</td> <td>季度目标</td> <td>Number</td> <td></td></tr> <tr><td>rebateRate</td> <td>季度返点率</td> <td>Number</td> <td>前端显示可以直接在此字段后面加%</td></tr> <tr><td>canUsePreferentialAmt</td> <td>优惠金额</td> <td>Number</td> <td></td></tr> <tr><td>fileUrl</td> <td>履约附件url</td> <td>String</td> <td>为null 或者 为&quot;&quot; 代表没有附件</td></tr></tbody></table> <h5 id="buttonpermissions返回值-2"><a href="#buttonpermissions返回值-2" aria-hidden="true" class="header-anchor">#</a> buttonPermissions返回值</h5> <pre><code>返回的集合长度和数据集一样，取对应下标数据即可，true 显示；false 不显示
performanceButton: 申请履约,
approvalButton: 审批,
detailButton: 详情（优惠明细）,
startButton: 启用履约按钮,
stopButton: 禁用履约按钮
</code></pre> <h4 id="请求示例-4"><a href="#请求示例-4" aria-hidden="true" class="header-anchor">#</a> 请求示例</h4> <pre><code>/v2/contract/performance?pageNo=1&amp;pageSize=25&amp;checkStatus=&amp;rebateNode=&amp;name=&amp;reach=&amp;name=
</code></pre> <h4 id="返回值示例-2"><a href="#返回值示例-2" aria-hidden="true" class="header-anchor">#</a> 返回值示例</h4> <pre><code>{
    code: 0,
    msg: &quot;&quot;,
    data: {
        datas: [
                    {
                        contractNum: &quot;ASA-1000000010848751&quot;,
                        startDate: &quot;2017-03-01 00:00:00&quot;,
                        endDate: &quot;2017-05-31 23:59:59&quot;,
                        subjectName: &quot;汕头市金平区木屋食品行&quot;,
                        rebateNode: &quot;FIRST&quot;,
                        performanceStatus: &quot;NORMAL&quot;,
                        salesPlan: 100000,
                        rebateRate: 2,
                        canUsePreferentialAmt: 0,
                        fileUrl: &quot;&quot;,
                        canApply: 0
                    },
                    ...
        ],
        buttonPermissions: [
                    {
                        performanceButton: false,
                        approvalButton: false
                    },
                    ...
        ],
        total: 618 (总条数) - Number,
        pageNo: 6 (对应页码) - Number
    }
}
</code></pre> <h3 id="xsyh-8-获取返利详细数据"><a href="#xsyh-8-获取返利详细数据" aria-hidden="true" class="header-anchor">#</a> XSYH-8.获取返利详细数据</h3> <h4 id="说明-3"><a href="#说明-3" aria-hidden="true" class="header-anchor">#</a> 说明</h4> <pre><code>获取返利详细数据
</code></pre> <h4 id="请求url-8"><a href="#请求url-8" aria-hidden="true" class="header-anchor">#</a> 请求url</h4> <pre><code>/v2/contract/performance/{contractNum}/{rebateNode}
</code></pre> <h4 id="请求类型-8"><a href="#请求类型-8" aria-hidden="true" class="header-anchor">#</a> 请求类型</h4> <pre><code>GET
</code></pre> <h4 id="请求参数-7"><a href="#请求参数-7" aria-hidden="true" class="header-anchor">#</a> 请求参数</h4> <table><thead><tr><th>参数</th> <th>名称</th> <th>类型</th> <th>描述</th></tr></thead> <tbody><tr><td>*contractNum</td> <td>合同号</td> <td>String</td> <td></td></tr> <tr><td>*rebateNode</td> <td>季度节点</td> <td>String</td> <td>FIRST、SECOND、THIRD、FOURTH、YEAR</td></tr></tbody></table> <h4 id="返回值-8"><a href="#返回值-8" aria-hidden="true" class="header-anchor">#</a> 返回值</h4> <table><thead><tr><th>参数</th> <th>名称</th> <th>类型</th> <th>描述</th></tr></thead> <tbody><tr><td>contract</td> <td>合同基本信息</td> <td>Object</td> <td></td></tr> <tr><td>contractDetail</td> <td>合同季度信息</td> <td>Object</td> <td></td></tr> <tr><td>saleDetail</td> <td>销售优惠金额确认</td> <td>Object</td> <td></td></tr> <tr><td>saleExists</td> <td>订购并计入销售优惠客户明细</td> <td>Array</td> <td></td></tr> <tr><td>saleNotExists</td> <td>订购但不计入销售优惠产品明细</td> <td>Array</td> <td></td></tr></tbody></table> <h4 id="强调"><a href="#强调" aria-hidden="true" class="header-anchor">#</a> 强调</h4> <pre><code>销售优惠金额 为 saleDetail 信息里的 preferentialAmt
</code></pre> <h5 id="contract信息-2"><a href="#contract信息-2" aria-hidden="true" class="header-anchor">#</a> contract信息</h5> <pre><code>{
    contractNum: &quot;ASA-1000000029456196&quot; (合同号) - String,
    createUserName: &quot;刘璇&quot; (销售支持) - String,
    startDate: &quot;2017-03-01 00:00:00&quot; (开始时间) - String,
    endDate: &quot;2018-02-28 23:59:59&quot; (结束时间) - String,
    subjectName: &quot;南京浩方食品贸易有限公司&quot; (合同主体客户名称) - String
}
</code></pre> <h5 id="contractdetail信息"><a href="#contractdetail信息" aria-hidden="true" class="header-anchor">#</a> contractDetail信息</h5> <pre><code>{
    rebateNode: &quot;THIRD&quot; (季度节点) - String
}
</code></pre> <h5 id="saledetail信息"><a href="#saledetail信息" aria-hidden="true" class="header-anchor">#</a> saleDetail信息</h5> <pre><code>{
    preferentialAmt: 6047.38 (优惠金额) - Number,
    rebateRate: 2 (优惠比例) - Number,
    saleAmt: 306144.64 (总额) - Number,
    saleNotExistAmt: 3775.8 (不计入优惠金额) - Number,
    salesPlan: 150000 (任务额) - Number,
    shouldExistAmt: 302368.84 (应记优惠金额) - Number
}
</code></pre> <h5 id="salesexists信息"><a href="#salesexists信息" aria-hidden="true" class="header-anchor">#</a> salesExists信息</h5> <pre><code>[
    {
        customerId: 27843 (客户编号) - Number,
        customerName: &quot;南京浩方食品贸易有限公司&quot; (客户名称) - String,
        orderAmt: 306144.64 (订单金额) - Number,
        apAmt: 0 (调价单金额) - Number,
        refundAmt: 0 (退单金额) - Number,
        saleAmt: 306144.64 (总额) - Number
    },
    ...
]
</code></pre> <h5 id="salenotexists信息"><a href="#salenotexists信息" aria-hidden="true" class="header-anchor">#</a> saleNotExists信息</h5> <pre><code>[
    {
        pno: &quot;A526&quot; (品号) - String,
        pname: &quot;金装原壳鲍鱼&quot; (品名) - String,
        specs: &quot;210g(10枚）/袋*12袋&quot; (规格) - String,
        count: 5 (数量) - Number,
        amount: 2394 (金额) - Number,
        saleNotExistRatio: 0.7 (不计入比例) - Number,
        saleNotExistAmt: 1675.8 (不计入金额) - Number
    },
    ...
]
</code></pre> <h4 id="请求示例-5"><a href="#请求示例-5" aria-hidden="true" class="header-anchor">#</a> 请求示例</h4> <pre><code>/v2/contract/performance/ASA-C-1000000029456196/THIRD
</code></pre> <h4 id="返回值示例-3"><a href="#返回值示例-3" aria-hidden="true" class="header-anchor">#</a> 返回值示例</h4> <pre><code>{
    code: 0,
    msg: &quot;&quot;,
    data: {
        contract: {...},
        contractDetail: {...},
        saleDetail: {...},
        salesExists: {...},
        saleNotExists: {...}
    }
}
</code></pre> <h3 id="xsyh-9-申请履约"><a href="#xsyh-9-申请履约" aria-hidden="true" class="header-anchor">#</a> XSYH-9.申请履约</h3> <h4 id="说明-4"><a href="#说明-4" aria-hidden="true" class="header-anchor">#</a> 说明</h4> <pre><code>客服为客户申请履约
</code></pre> <h4 id="请求url-9"><a href="#请求url-9" aria-hidden="true" class="header-anchor">#</a> 请求url</h4> <pre><code>/v2/contract/performance
</code></pre> <h4 id="请求类型-9"><a href="#请求类型-9" aria-hidden="true" class="header-anchor">#</a> 请求类型</h4> <pre><code>POST
</code></pre> <h4 id="请求参数-8"><a href="#请求参数-8" aria-hidden="true" class="header-anchor">#</a> 请求参数</h4> <table><thead><tr><th>参数</th> <th>名称</th> <th>类型</th> <th>描述</th></tr></thead> <tbody><tr><td>*contractNum</td> <td>合同号</td> <td>String</td> <td></td></tr> <tr><td>*rebateNode</td> <td>季度节点</td> <td>String</td> <td>FIRST、SECOND、THIRD、FOURTH、YEAR</td></tr> <tr><td>*customerAmt</td> <td>客户id和发放金额拼接的字符串</td> <td>String</td> <td>Example: 93159,10000;93330,8000 逗号前为客户id，逗号后为发放金额，分号为相隔符 两位小数，可以不发但是如果发放，那么发放金额不能为0 做好校验</td></tr> <tr><td>*fileUrl</td> <td>履约附件url</td> <td>String</td> <td></td></tr> <tr><td>*onlyCode</td> <td>本次提交携带的唯一码</td> <td>String</td> <td>防止重复提交用</td></tr></tbody></table> <h4 id="返回值-9"><a href="#返回值-9" aria-hidden="true" class="header-anchor">#</a> 返回值</h4> <table><thead><tr><th>参数</th> <th>名称</th> <th>描述</th></tr></thead> <tbody><tr><td>code</td> <td>编号</td> <td>100000：成功；0 ~ 99999：失败</td></tr> <tr><td>msg</td> <td>消息</td> <td>修改成功/异常信息</td></tr> <tr><td>data</td> <td>数据</td> <td></td></tr></tbody></table> <h4 id="请求示例-6"><a href="#请求示例-6" aria-hidden="true" class="header-anchor">#</a> 请求示例</h4> <pre><code>/v2/contract/performance
</code></pre> <h3 id="xsyh-10-履约审批"><a href="#xsyh-10-履约审批" aria-hidden="true" class="header-anchor">#</a> XSYH-10.履约审批</h3> <h4 id="说明-5"><a href="#说明-5" aria-hidden="true" class="header-anchor">#</a> 说明</h4> <pre><code>客服SS申请履约后，由财务会计进行审核
</code></pre> <h4 id="请求url-10"><a href="#请求url-10" aria-hidden="true" class="header-anchor">#</a> 请求url</h4> <pre><code>/v2/contract/performance/{contractNum}/{rebateNode}
</code></pre> <h4 id="请求类型-10"><a href="#请求类型-10" aria-hidden="true" class="header-anchor">#</a> 请求类型</h4> <pre><code>PUT
</code></pre> <h4 id="请求参数-9"><a href="#请求参数-9" aria-hidden="true" class="header-anchor">#</a> 请求参数</h4> <table><thead><tr><th>参数</th> <th>名称</th> <th>类型</th> <th>描述</th></tr></thead> <tbody><tr><td>*contractNum</td> <td>合同号</td> <td>String</td> <td></td></tr> <tr><td>*rebateNode</td> <td>季度节点</td> <td>String</td> <td></td></tr> <tr><td>*result</td> <td>审核结果</td> <td>String</td> <td>PASS: 通过; REFUSE: 拒绝</td></tr> <tr><td>remarks</td> <td>备注</td> <td>String</td> <td>200字符以内</td></tr></tbody></table> <h4 id="返回值-10"><a href="#返回值-10" aria-hidden="true" class="header-anchor">#</a> 返回值</h4> <table><thead><tr><th>参数</th> <th>名称</th> <th>描述</th></tr></thead> <tbody><tr><td>code</td> <td>编号</td> <td>100000：成功；0 ~ 99999：失败</td></tr> <tr><td>msg</td> <td>消息</td> <td>修改成功/异常信息</td></tr> <tr><td>data</td> <td>数据</td> <td></td></tr></tbody></table> <h4 id="请求示例-7"><a href="#请求示例-7" aria-hidden="true" class="header-anchor">#</a> 请求示例</h4> <pre><code>/v2/contract/performance/ASA-C-2736619920458752/FIRST
</code></pre> <h3 id="xsyh-11-设置季度能否履约"><a href="#xsyh-11-设置季度能否履约" aria-hidden="true" class="header-anchor">#</a> XSYH-11.设置季度能否履约</h3> <h4 id="说明-6"><a href="#说明-6" aria-hidden="true" class="header-anchor">#</a> 说明</h4> <pre><code>销售会计设置合同的某一季度能否履约
</code></pre> <h4 id="请求url-11"><a href="#请求url-11" aria-hidden="true" class="header-anchor">#</a> 请求url</h4> <pre><code>/v2/contract/performance/disable
</code></pre> <h4 id="请求类型-11"><a href="#请求类型-11" aria-hidden="true" class="header-anchor">#</a> 请求类型</h4> <pre><code>PUT
</code></pre> <h4 id="请求参数-10"><a href="#请求参数-10" aria-hidden="true" class="header-anchor">#</a> 请求参数</h4> <table><thead><tr><th>参数</th> <th>名称</th> <th>类型</th> <th>描述</th></tr></thead> <tbody><tr><td>*contractNum</td> <td>合同号</td> <td>String</td> <td></td></tr> <tr><td>*rebateNode</td> <td>季度节点</td> <td>String</td> <td></td></tr> <tr><td>*status</td> <td>状态</td> <td>String</td> <td>NORMAL: 正常; STOP: 禁止履约</td></tr></tbody></table> <h4 id="返回值-11"><a href="#返回值-11" aria-hidden="true" class="header-anchor">#</a> 返回值</h4> <table><thead><tr><th>参数</th> <th>名称</th> <th>描述</th></tr></thead> <tbody><tr><td>code</td> <td>编号</td> <td>100000：成功；0：失败；</td></tr> <tr><td>msg</td> <td>消息</td> <td>删除成功/异常信息</td></tr> <tr><td>data</td> <td>数据</td> <td>null</td></tr></tbody></table> <h4 id="请求示例-8"><a href="#请求示例-8" aria-hidden="true" class="header-anchor">#</a> 请求示例</h4> <pre><code>/v2/contract/performance/disable
</code></pre> <h3 id="xsyh-12-获取合同所属的客户群体"><a href="#xsyh-12-获取合同所属的客户群体" aria-hidden="true" class="header-anchor">#</a> XSYH-12.获取合同所属的客户群体</h3> <h4 id="说明-7"><a href="#说明-7" aria-hidden="true" class="header-anchor">#</a> 说明</h4> <pre><code>当申请履约时，要获取该合同下的所属客户以便进行返利券的发放
</code></pre> <h4 id="请求url-12"><a href="#请求url-12" aria-hidden="true" class="header-anchor">#</a> 请求url</h4> <pre><code>/v2/contract/performance/{contractNum}/customers
</code></pre> <h4 id="请求类型-12"><a href="#请求类型-12" aria-hidden="true" class="header-anchor">#</a> 请求类型</h4> <pre><code>GET
</code></pre> <h4 id="请求参数-11"><a href="#请求参数-11" aria-hidden="true" class="header-anchor">#</a> 请求参数</h4> <table><thead><tr><th>参数</th> <th>名称</th> <th>类型</th> <th>描述</th></tr></thead> <tbody><tr><td>*contractNum</td> <td>合同号</td> <td>String</td> <td></td></tr></tbody></table> <h4 id="返回值-12"><a href="#返回值-12" aria-hidden="true" class="header-anchor">#</a> 返回值</h4> <table><thead><tr><th>参数</th> <th>名称</th> <th>类型</th> <th>描述</th></tr></thead> <tbody><tr><td>customerId</td> <td>客户id</td> <td>Integer</td> <td></td></tr> <tr><td>customerName</td> <td>客户名称</td> <td>String</td> <td></td></tr></tbody></table> <h4 id="请求示例-9"><a href="#请求示例-9" aria-hidden="true" class="header-anchor">#</a> 请求示例</h4> <pre><code>/v2/contract/performance/ASA-C-26988888686868/customers
</code></pre> <h4 id="返回值示例-4"><a href="#返回值示例-4" aria-hidden="true" class="header-anchor">#</a> 返回值示例</h4> <pre><code>{
    code: 0,
    msg: &quot;&quot;,
    data: [
        {
            customerId: &quot;768&quot;,
            customerName: &quot;韩愈&quot;
        },
        ...
    ]
}
</code></pre> <h3 id="xsyh-13-获取客户返利券列表"><a href="#xsyh-13-获取客户返利券列表" aria-hidden="true" class="header-anchor">#</a> XSYH-13.获取客户返利券列表</h3> <h4 id="请求url-13"><a href="#请求url-13" aria-hidden="true" class="header-anchor">#</a> 请求url</h4> <pre><code>/v2/rebates
</code></pre> <h4 id="请求类型-13"><a href="#请求类型-13" aria-hidden="true" class="header-anchor">#</a> 请求类型</h4> <pre><code>GET
</code></pre> <h4 id="请求参数-12"><a href="#请求参数-12" aria-hidden="true" class="header-anchor">#</a> 请求参数</h4> <table><thead><tr><th>参数</th> <th>名称</th> <th>类型</th> <th>描述</th></tr></thead> <tbody><tr><td>name</td> <td>返利券名称</td> <td>String</td> <td></td></tr> <tr><td>customerName</td> <td>客户名称</td> <td>String</td> <td></td></tr> <tr><td>source</td> <td>返利券来源</td> <td>String</td> <td>CONTRACT: 合同返利; HANDWORK: 手工发放</td></tr> <tr><td>status</td> <td>返利券状态</td> <td>String</td> <td>NORMAL: 正常; LOCK: 锁定</td></tr> <tr><td>rate</td> <td>返利券折扣比率</td> <td>Number</td> <td>前端展示直接在后面加%即可</td></tr> <tr><td>type</td> <td>返利券类型</td> <td>String</td> <td>REBATE: 返利, SPREAD: 推广费, FREIGHT: 运费, OTHER: 其它</td></tr> <tr><td>pageNo</td> <td>页码</td> <td>Number</td> <td>default-value: 1</td></tr> <tr><td>pageSize</td> <td>页面容量</td> <td>Number</td> <td>default-value: 25</td></tr> <tr><td>buttonPermissionFlg</td> <td>按钮权限</td> <td>Number</td> <td>1-查询按钮权限 0-不查询</td></tr></tbody></table> <h4 id="返回值-13"><a href="#返回值-13" aria-hidden="true" class="header-anchor">#</a> 返回值</h4> <h5 id="datas返回值-3"><a href="#datas返回值-3" aria-hidden="true" class="header-anchor">#</a> datas返回值</h5> <table><thead><tr><th>参数</th> <th>名称</th> <th>类型</th> <th>描述</th></tr></thead> <tbody><tr><td>id</td> <td>返利券id</td> <td>Number</td> <td></td></tr> <tr><td>name</td> <td>返利券名称</td> <td>String</td> <td></td></tr> <tr><td>type</td> <td>返利券类别</td> <td>String</td> <td>REBATE: 返利,SPREAD: 推广费,FREIGHT: 运费补,OTHER: 其它</td></tr> <tr><td>source</td> <td>返利券来源 contract: 合同返利; handwork: 手工发放</td> <td>String</td> <td></td></tr> <tr><td>sourceExt</td> <td>如果返利券是合同返利生成的，这个字段存储的是合同的季度信息</td> <td>String</td> <td>FIRST：一季度 SECOND：二季度 THIRD：三季度 FOURTH：四季度 YEAR：年度</td></tr> <tr><td>sourceValue</td> <td>如果返利券是合同返利生成的，这个字段存储的是合同号</td> <td>String</td> <td></td></tr> <tr><td>rate</td> <td>折扣比率 前端展示直接在此值后面加 % 即可</td> <td>Number</td> <td></td></tr> <tr><td>value</td> <td>返利券面值</td> <td>Number</td> <td></td></tr> <tr><td>leftValue</td> <td>返利券剩余金额</td> <td>Number</td> <td></td></tr> <tr><td>effectStime</td> <td>返利券有效起始日期 yyyy-MM-dd HH:mm:ss</td> <td>String</td> <td></td></tr> <tr><td>effectEtime</td> <td>返利券有效结束日期 yyyy-MM-dd HH:mm:ss</td> <td>String</td> <td></td></tr> <tr><td>customerName</td> <td>客户名称</td> <td>String</td> <td></td></tr> <tr><td>createUserName</td> <td>创建人名称</td> <td>String</td> <td></td></tr> <tr><td>createTime</td> <td>返利券发放日期 yyyy-MM-dd HH:mm:ss</td> <td>String</td> <td></td></tr> <tr><td>status</td> <td>返利券状态</td> <td>String</td> <td>NORMAL: 正常; LOCK: 锁定</td></tr></tbody></table> <h5 id="buttonpermissions返回值-3"><a href="#buttonpermissions返回值-3" aria-hidden="true" class="header-anchor">#</a> buttonPermissions返回值</h5> <pre><code>返回的集合长度和数据集一样，取对应下标数据即可，true 显示；false 不显示
lockButton 锁定按钮
unlockButton 解锁按钮
logButton 日志查看按钮
</code></pre> <h4 id="请求示例-10"><a href="#请求示例-10" aria-hidden="true" class="header-anchor">#</a> 请求示例</h4> <pre><code>/v2/rebates?name=&amp;status=&amp;source=&amp;pageNo=&amp;pageSize=
</code></pre> <h4 id="返回值示例-5"><a href="#返回值示例-5" aria-hidden="true" class="header-anchor">#</a> 返回值示例</h4> <pre><code>{
    code: 0,
    msg: &quot;&quot;,
    data: {
        datas: [
                    {
                        ...
                    },
                    ...
               ],
        buttonPermissions:[
                    {
                        lockButton: false,
                        unlockButton: false,
                        logButton: false
                    },
                    ...
        ],
        total: 93330 (总条数) - Number,
        pageNo: 12 (对应的页码) - Number
    }
}
</code></pre> <h3 id="xsyh-14-新增客户返利券"><a href="#xsyh-14-新增客户返利券" aria-hidden="true" class="header-anchor">#</a> XSYH-14.新增客户返利券</h3> <h4 id="请求url-14"><a href="#请求url-14" aria-hidden="true" class="header-anchor">#</a> 请求url</h4> <pre><code>/v2/rebates
</code></pre> <h4 id="请求类型-14"><a href="#请求类型-14" aria-hidden="true" class="header-anchor">#</a> 请求类型</h4> <pre><code>POST
</code></pre> <h4 id="请求参数-13"><a href="#请求参数-13" aria-hidden="true" class="header-anchor">#</a> 请求参数</h4> <table><thead><tr><th>参数</th> <th>名称</th> <th>类型</th> <th>描述</th></tr></thead> <tbody><tr><td>*name</td> <td>返利券名称</td> <td>String</td> <td></td></tr> <tr><td>*customerId</td> <td>客户id</td> <td>Number</td> <td></td></tr> <tr><td>*customerName</td> <td>客户名称</td> <td>Stirng</td> <td></td></tr> <tr><td>*rate</td> <td>折扣比率 20% -&gt; 20</td> <td>Number</td> <td></td></tr> <tr><td>*type</td> <td>返利类别</td> <td>String</td> <td>REBATE: 返利, SPREAD: 推广费, FREIGHT: 运费, OTHER: 其它,</td></tr> <tr><td>*value</td> <td>面值</td> <td>Number</td> <td></td></tr> <tr><td>*effectStime</td> <td>返利券有效期起始日期</td> <td>String</td> <td>日期为客户所选 时间为自动补全 00:00:00</td></tr> <tr><td>*effectEtime</td> <td>返利券有效期结束日期</td> <td>String</td> <td>日期为客户所选 时间为自动补全 23:59:59</td></tr> <tr><td>note</td> <td>备注</td> <td>String</td> <td>备注长度不得超过200</td></tr> <tr><td>*onlyCode</td> <td>本次提交携带的唯一码</td> <td>String</td> <td>防止重复提交用</td></tr></tbody></table> <h4 id="返回值-14"><a href="#返回值-14" aria-hidden="true" class="header-anchor">#</a> 返回值</h4> <table><thead><tr><th>参数</th> <th>名称</th> <th>描述</th></tr></thead> <tbody><tr><td>code</td> <td>编号</td> <td>100000：成功；0 ~ 99999：失败</td></tr> <tr><td>msg</td> <td>消息</td> <td>修改成功/异常信息</td></tr> <tr><td>data</td> <td>数据</td> <td></td></tr></tbody></table> <h3 id="xsyh-15-客户返利券解锁或锁定"><a href="#xsyh-15-客户返利券解锁或锁定" aria-hidden="true" class="header-anchor">#</a> XSYH-15.客户返利券解锁或锁定</h3> <h4 id="请求url-15"><a href="#请求url-15" aria-hidden="true" class="header-anchor">#</a> 请求url</h4> <pre><code>/v2/rebates
</code></pre> <h4 id="请求类型-15"><a href="#请求类型-15" aria-hidden="true" class="header-anchor">#</a> 请求类型</h4> <pre><code>PUT
</code></pre> <h4 id="请求参数-14"><a href="#请求参数-14" aria-hidden="true" class="header-anchor">#</a> 请求参数</h4> <table><thead><tr><th>参数</th> <th>名称</th> <th>类型</th> <th>描述</th></tr></thead> <tbody><tr><td>*id</td> <td>返利券id</td> <td>Number</td> <td></td></tr> <tr><td>*result</td> <td>操作行为</td> <td>String</td> <td>NORMAL: 解锁; LOCK: 锁定</td></tr></tbody></table> <h4 id="返回值-15"><a href="#返回值-15" aria-hidden="true" class="header-anchor">#</a> 返回值</h4> <table><thead><tr><th>参数</th> <th>名称</th> <th>描述</th></tr></thead> <tbody><tr><td>code</td> <td>编号</td> <td>100000：成功；0 ~ 99999：失败</td></tr> <tr><td>msg</td> <td>消息</td> <td>修改成功/异常信息</td></tr> <tr><td>data</td> <td>数据</td> <td></td></tr></tbody></table> <h3 id="xsyh-16-获取客户返利券去重后的折扣比例列表"><a href="#xsyh-16-获取客户返利券去重后的折扣比例列表" aria-hidden="true" class="header-anchor">#</a> XSYH-16.获取客户返利券去重后的折扣比例列表</h3> <h4 id="请求url-16"><a href="#请求url-16" aria-hidden="true" class="header-anchor">#</a> 请求url</h4> <pre><code>/v2/rebates/rates
</code></pre> <h3 id="请求类型-16"><a href="#请求类型-16" aria-hidden="true" class="header-anchor">#</a> 请求类型</h3> <pre><code>GET
</code></pre> <h4 id="请求参数-15"><a href="#请求参数-15" aria-hidden="true" class="header-anchor">#</a> 请求参数</h4> <pre><code>无
</code></pre> <h4 id="返回值示例-6"><a href="#返回值示例-6" aria-hidden="true" class="header-anchor">#</a> 返回值示例</h4> <pre><code>{
    code: 0,
    msg: &quot;&quot;,
    data: [
        100,
        88,
        66
        60,
        20
    ]
}
</code></pre> <h3 id="xsyh-17-获取返利券日志列表"><a href="#xsyh-17-获取返利券日志列表" aria-hidden="true" class="header-anchor">#</a> XSYH-17.获取返利券日志列表</h3> <h4 id="请求url-17"><a href="#请求url-17" aria-hidden="true" class="header-anchor">#</a> 请求url</h4> <pre><code>/v2/rebates/{id}/log
</code></pre> <h4 id="请求类型-17"><a href="#请求类型-17" aria-hidden="true" class="header-anchor">#</a> 请求类型</h4> <pre><code>GET
</code></pre> <h4 id="请求参数-16"><a href="#请求参数-16" aria-hidden="true" class="header-anchor">#</a> 请求参数</h4> <table><thead><tr><th>参数</th> <th>名称</th> <th>类型</th> <th>描述</th></tr></thead> <tbody><tr><td>*id</td> <td>返利券id</td> <td>Number</td> <td></td></tr></tbody></table> <h4 id="返回值-16"><a href="#返回值-16" aria-hidden="true" class="header-anchor">#</a> 返回值</h4> <table><thead><tr><th>参数</th> <th>名称</th> <th>类型</th> <th>描述</th></tr></thead> <tbody><tr><td>actionValue</td> <td>订单号</td> <td>String</td> <td></td></tr> <tr><td>action</td> <td>操作内容</td> <td>String</td> <td></td></tr> <tr><td>createTime</td> <td>操作时间</td> <td>String</td> <td>yyyy-MM-dd HH:mm:ss</td></tr> <tr><td>createUserName</td> <td>操作人</td> <td>String</td> <td></td></tr> <tr><td>value</td> <td>使用金额</td> <td>Number</td> <td></td></tr> <tr><td>leftValue</td> <td>返利券剩余金额</td> <td>Number</td> <td></td></tr></tbody></table> <h3 id="xsyh-18-获取合同新增权限按钮"><a href="#xsyh-18-获取合同新增权限按钮" aria-hidden="true" class="header-anchor">#</a> XSYH-18.获取合同新增权限按钮</h3> <h4 id="请求url-18"><a href="#请求url-18" aria-hidden="true" class="header-anchor">#</a> 请求url</h4> <pre><code>/v2/contract/buttons
</code></pre> <h4 id="请求类型-18"><a href="#请求类型-18" aria-hidden="true" class="header-anchor">#</a> 请求类型</h4> <pre><code>GET
</code></pre> <h4 id="请求参数-17"><a href="#请求参数-17" aria-hidden="true" class="header-anchor">#</a> 请求参数</h4> <pre><code>无
</code></pre> <h4 id="返回值-17"><a href="#返回值-17" aria-hidden="true" class="header-anchor">#</a> 返回值</h4> <table><thead><tr><th>参数</th> <th>名称</th> <th>类型</th> <th>描述</th></tr></thead> <tbody><tr><td>insertButton</td> <td>新增按钮</td> <td>Boolean</td> <td>true - 显示；false - 不显示</td></tr></tbody></table></div> <div class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">9/13/2018, 4:09:57 PM</span></div></div> <!----> </div> <!----></div></div>
    <script src="/work-a-api-v2/assets/js/7.e8f9550a.js" defer></script><script src="/work-a-api-v2/assets/js/app.82b94bdb.js" defer></script>
  </body>
</html>
