<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>权限接口 | ADoc</title>
    <meta name="description" content="A团队开发文档">
    
    
    <link rel="preload" href="/work-a-api-v2/assets/css/0.styles.b3d83912.css" as="style"><link rel="preload" href="/work-a-api-v2/assets/js/app.e6fba923.js" as="script"><link rel="preload" href="/work-a-api-v2/assets/js/6.5cae9cbe.js" as="script"><link rel="prefetch" href="/work-a-api-v2/assets/js/7.72c59ee5.js"><link rel="prefetch" href="/work-a-api-v2/assets/js/2.cda51ec0.js"><link rel="prefetch" href="/work-a-api-v2/assets/js/3.e260ff61.js"><link rel="prefetch" href="/work-a-api-v2/assets/js/4.b446dd4c.js"><link rel="prefetch" href="/work-a-api-v2/assets/js/5.be861fa0.js"><link rel="prefetch" href="/work-a-api-v2/assets/js/8.989bc134.js"><link rel="prefetch" href="/work-a-api-v2/assets/js/9.472c0602.js"><link rel="prefetch" href="/work-a-api-v2/assets/js/10.54b2c00c.js"><link rel="prefetch" href="/work-a-api-v2/assets/js/11.ed287b7d.js"><link rel="prefetch" href="/work-a-api-v2/assets/js/12.0a9686b4.js"><link rel="prefetch" href="/work-a-api-v2/assets/js/13.6bf53493.js"><link rel="prefetch" href="/work-a-api-v2/assets/js/14.6f70e3bc.js"><link rel="prefetch" href="/work-a-api-v2/assets/js/15.071709a6.js">
    <link rel="stylesheet" href="/work-a-api-v2/assets/css/0.styles.b3d83912.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/work-a-api-v2/" class="home-link router-link-active"><!----> <span class="site-name">ADoc</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/work-a-api-v2/customer/" class="nav-link">客户</a></div><div class="nav-item"><a href="/work-a-api-v2/product/" class="nav-link">产品</a></div><div class="nav-item"><a href="/work-a-api-v2/auth/" class="nav-link router-link-exact-active router-link-active">权限</a></div><div class="nav-item"><a href="/work-a-api-v2/contract/" class="nav-link">销售优惠</a></div><div class="nav-item"><a href="/work-a-api-v2/price/" class="nav-link">价格</a></div><div class="nav-item"><a href="/work-a-api-v2/freight/" class="nav-link">运费</a></div><div class="nav-item"><a href="/work-a-api-v2/market/" class="nav-link">营销</a></div><div class="nav-item"><a href="/work-a-api-v2/common/" class="nav-link">基础</a></div><div class="nav-item"><a href="/work-a-api-v2/app/" class="nav-link">APP</a></div><div class="nav-item"><a href="/work-a-api-v2/other/" class="nav-link">其它</a></div><div class="nav-item"><a href="/work-a-api-v2/changelog/" class="nav-link">变更</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/work-a-api-v2/customer/" class="nav-link">客户</a></div><div class="nav-item"><a href="/work-a-api-v2/product/" class="nav-link">产品</a></div><div class="nav-item"><a href="/work-a-api-v2/auth/" class="nav-link router-link-exact-active router-link-active">权限</a></div><div class="nav-item"><a href="/work-a-api-v2/contract/" class="nav-link">销售优惠</a></div><div class="nav-item"><a href="/work-a-api-v2/price/" class="nav-link">价格</a></div><div class="nav-item"><a href="/work-a-api-v2/freight/" class="nav-link">运费</a></div><div class="nav-item"><a href="/work-a-api-v2/market/" class="nav-link">营销</a></div><div class="nav-item"><a href="/work-a-api-v2/common/" class="nav-link">基础</a></div><div class="nav-item"><a href="/work-a-api-v2/app/" class="nav-link">APP</a></div><div class="nav-item"><a href="/work-a-api-v2/other/" class="nav-link">其它</a></div><div class="nav-item"><a href="/work-a-api-v2/changelog/" class="nav-link">变更</a></div> <!----></nav>  <ul class="sidebar-links"><li><div class="sidebar-group first"><p class="sidebar-heading open"><span>权限接口</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/work-a-api-v2/auth/#权限接口" class="sidebar-link">权限接口</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/work-a-api-v2/auth/#qx-1-开户" class="sidebar-link">QX-1. 开户</a></li><li class="sidebar-sub-header"><a href="/work-a-api-v2/auth/#qx-2-锁定、解锁" class="sidebar-link">QX-2. 锁定、解锁</a></li><li class="sidebar-sub-header"><a href="/work-a-api-v2/auth/#qx-3-用户权限列表" class="sidebar-link">QX-3. 用户权限列表</a></li><li class="sidebar-sub-header"><a href="/work-a-api-v2/auth/#qx-4-重置密码" class="sidebar-link">QX-4. 重置密码</a></li><li class="sidebar-sub-header"><a href="/work-a-api-v2/auth/#qx-5-用户分配功能权限" class="sidebar-link">QX-5. 用户分配功能权限</a></li><li class="sidebar-sub-header"><a href="/work-a-api-v2/auth/#qx-7-用户分配数据权限" class="sidebar-link">QX-7. 用户分配数据权限</a></li><li class="sidebar-sub-header"><a href="/work-a-api-v2/auth/#qx-9-功能权限新增" class="sidebar-link">QX-9. 功能权限新增</a></li><li class="sidebar-sub-header"><a href="/work-a-api-v2/auth/#qx-10-功能权限修改" class="sidebar-link">QX-10. 功能权限修改</a></li><li class="sidebar-sub-header"><a href="/work-a-api-v2/auth/#qx-11-功能权限的锁定、解锁" class="sidebar-link">QX-11. 功能权限的锁定、解锁</a></li><li class="sidebar-sub-header"><a href="/work-a-api-v2/auth/#qx-12-功能权限列表" class="sidebar-link">QX-12. 功能权限列表</a></li><li class="sidebar-sub-header"><a href="/work-a-api-v2/auth/#qx-13-功能权限详情" class="sidebar-link">QX-13. 功能权限详情</a></li><li class="sidebar-sub-header"><a href="/work-a-api-v2/auth/#qx-14-数据权限新增" class="sidebar-link">QX-14. 数据权限新增</a></li><li class="sidebar-sub-header"><a href="/work-a-api-v2/auth/#qx-15-数据权限修改" class="sidebar-link">QX-15. 数据权限修改</a></li><li class="sidebar-sub-header"><a href="/work-a-api-v2/auth/#qx-16-数据权限删除" class="sidebar-link">QX-16. 数据权限删除</a></li><li class="sidebar-sub-header"><a href="/work-a-api-v2/auth/#qx-17-数据权限列表" class="sidebar-link">QX-17. 数据权限列表</a></li><li class="sidebar-sub-header"><a href="/work-a-api-v2/auth/#qx-18-数据权限详情" class="sidebar-link">QX-18. 数据权限详情</a></li><li class="sidebar-sub-header"><a href="/work-a-api-v2/auth/#qx-19-菜单新增" class="sidebar-link">QX-19. 菜单新增</a></li><li class="sidebar-sub-header"><a href="/work-a-api-v2/auth/#qx-20-菜单修改" class="sidebar-link">QX-20. 菜单修改</a></li><li class="sidebar-sub-header"><a href="/work-a-api-v2/auth/#qx-21-菜单显示、隐藏" class="sidebar-link">QX-21. 菜单显示、隐藏</a></li><li class="sidebar-sub-header"><a href="/work-a-api-v2/auth/#qx-22-菜单排序" class="sidebar-link">QX-22. 菜单排序</a></li><li class="sidebar-sub-header"><a href="/work-a-api-v2/auth/#qx-23-菜单删除" class="sidebar-link">QX-23. 菜单删除</a></li><li class="sidebar-sub-header"><a href="/work-a-api-v2/auth/#qx-24-菜单列表" class="sidebar-link">QX-24. 菜单列表</a></li><li class="sidebar-sub-header"><a href="/work-a-api-v2/auth/#qx-25-菜单详情" class="sidebar-link">QX-25. 菜单详情</a></li><li class="sidebar-sub-header"><a href="/work-a-api-v2/auth/#qx-26-操作日志列表" class="sidebar-link">QX-26. 操作日志列表</a></li><li class="sidebar-sub-header"><a href="/work-a-api-v2/auth/#qx-27-不分页的功能权限列表" class="sidebar-link">QX-27. 不分页的功能权限列表</a></li><li class="sidebar-sub-header"><a href="/work-a-api-v2/auth/#qx-28-根据ss-sr类型获取角色权限列表" class="sidebar-link">QX-28. 根据SS\SR类型获取角色权限列表</a></li><li class="sidebar-sub-header"><a href="/work-a-api-v2/auth/#qx-29-用户登陆后获取菜单" class="sidebar-link">QX-29. 用户登陆后获取菜单</a></li><li class="sidebar-sub-header"><a href="/work-a-api-v2/auth/#qx-30-获取登录用户信息" class="sidebar-link">QX-30. 获取登录用户信息</a></li></ul></li></ul></div></li></ul> </div> <div class="page"> <div class="content"><h2 id="权限接口"><a href="#权限接口" aria-hidden="true" class="header-anchor">#</a> 权限接口</h2> <h3 id="qx-1-开户"><a href="#qx-1-开户" aria-hidden="true" class="header-anchor">#</a> QX-1. 开户</h3> <h4 id="请求"><a href="#请求" aria-hidden="true" class="header-anchor">#</a> 请求</h4> <pre><code>POST    /v2/userpower
</code></pre> <h4 id="参数"><a href="#参数" aria-hidden="true" class="header-anchor">#</a> 参数</h4> <pre><code>{
	&quot;id&quot;:517,               // * 用户id
	&quot;workno&quot;:&quot;0517&quot;,        // * 工号
	&quot;mobile&quot;:&quot;18666664848&quot; // * 手机号
}
</code></pre> <h4 id="响应"><a href="#响应" aria-hidden="true" class="header-anchor">#</a> 响应</h4> <pre><code>{
	&quot;code&quot;: 100000,
	&quot;msg&quot;: &quot;&quot;,
	&quot;data&quot;: null
}
</code></pre> <h3 id="qx-2-锁定、解锁"><a href="#qx-2-锁定、解锁" aria-hidden="true" class="header-anchor">#</a> QX-2. 锁定、解锁</h3> <h4 id="请求-2"><a href="#请求-2" aria-hidden="true" class="header-anchor">#</a> 请求</h4> <pre><code>PUT     /v2/userpower/{id}
</code></pre> <h4 id="参数-2"><a href="#参数-2" aria-hidden="true" class="header-anchor">#</a> 参数</h4> <pre><code>id // * 用户id
{
    &quot;status&quot;: &quot;lock&quot; // * lock 锁定 normal 解锁
}
</code></pre> <h4 id="响应-2"><a href="#响应-2" aria-hidden="true" class="header-anchor">#</a> 响应</h4> <pre><code>{
	&quot;code&quot;: 100000,
	&quot;msg&quot;: &quot;&quot;,
	&quot;data&quot;: null
}
</code></pre> <h3 id="qx-3-用户权限列表"><a href="#qx-3-用户权限列表" aria-hidden="true" class="header-anchor">#</a> QX-3. 用户权限列表</h3> <h4 id="请求-3"><a href="#请求-3" aria-hidden="true" class="header-anchor">#</a> 请求</h4> <pre><code>GET     /v2/userpower
</code></pre> <h4 id="参数-3"><a href="#参数-3" aria-hidden="true" class="header-anchor">#</a> 参数</h4> <pre><code>keyword // 用户名/手机号
status // 状态  NORMAL 正常 LOCK 锁定 NOACCOUNT 未开户
buttonPermissionFlg // 0 不查询按钮权限 1 查询
pageNo  // 页码
pageSize // 页条数
</code></pre> <h4 id="响应-3"><a href="#响应-3" aria-hidden="true" class="header-anchor">#</a> 响应</h4> <pre><code>{
    &quot;code&quot;: 100000,
    &quot;msg&quot;: &quot;&quot;,
    &quot;data&quot;: {
        &quot;buttonPermissions&quot;: [
            {
                &quot;bindDataPower&quot;: true,  // 绑定数据权限
                &quot;lockButton&quot;: true, // 锁定
                &quot;unlockButton&quot;: false,  // 解锁
                &quot;newAccountButton&quot;: false,  开户
                &quot;reset&quot;: true,  // 重置密码
                &quot;bindMenuPower&quot;: true   绑定功能权限
            }
        ],
        &quot;dataSums&quot;: null,
        &quot;datas&quot;: [
            {
                &quot;authDataPowers&quot;: [
                    {
                        &quot;gid&quot;: 0,
                        &quot;gname&quot;: &quot;&quot;,    
                        &quot;rid&quot;: 1,   // 数据权限编号
                        &quot;rname&quot;: &quot;&quot;,    // 数据权限名称
                        &quot;uid&quot;: 101
                    }
                ],
                &quot;authMenuPowers&quot;: [
                    {
                        &quot;createTime&quot;: &quot;&quot;,
                        &quot;gid&quot;: 11,  // 功能权限编号
                        &quot;id&quot;: 1,
                        &quot;isAuto&quot;: 0,
                        &quot;menuIds&quot;: null,
                        &quot;name&quot;: &quot;系统管理员&quot;,   // 功能权限名称
                        &quot;remark&quot;: &quot;&quot;,
                        &quot;status&quot;: &quot;&quot;,
                        &quot;sys&quot;: &quot;a&quot;,
                        &quot;uid&quot;: 101
                    }
                ],
                &quot;fullname&quot;: &quot;樊嘉辉&quot;,   // 用户名
                &quot;id&quot;: 101,  // 用户ID
                &quot;isOpen&quot;: &quot;1&quot;,  
                &quot;mobile&quot;: &quot;13478445016&quot;,    // 手机号
                &quot;status&quot;: &quot;normal&quot;, // 状态 NOACCOUNT 未开户 LOCK 锁定 NORMAL 解锁
                &quot;workno&quot;: &quot;0101&quot;    // 工号
            }
        ],
        &quot;pageNo&quot;: 1,
        &quot;total&quot;: 1
    }
}
</code></pre> <h3 id="qx-4-重置密码"><a href="#qx-4-重置密码" aria-hidden="true" class="header-anchor">#</a> QX-4. 重置密码</h3> <h4 id="请求-4"><a href="#请求-4" aria-hidden="true" class="header-anchor">#</a> 请求</h4> <pre><code>PUT     /v2/userpower/reset/{id}
</code></pre> <h4 id="参数-4"><a href="#参数-4" aria-hidden="true" class="header-anchor">#</a> 参数</h4> <pre><code>id // * 用户id
</code></pre> <h4 id="响应-4"><a href="#响应-4" aria-hidden="true" class="header-anchor">#</a> 响应</h4> <pre><code>{
	&quot;code&quot;: 100000,
	&quot;msg&quot;: &quot;&quot;,
	&quot;data&quot;: null
}
</code></pre> <h3 id="qx-5-用户分配功能权限"><a href="#qx-5-用户分配功能权限" aria-hidden="true" class="header-anchor">#</a> QX-5. 用户分配功能权限</h3> <h4 id="请求-5"><a href="#请求-5" aria-hidden="true" class="header-anchor">#</a> 请求</h4> <pre><code>POST    /v2/userpower/menupower
</code></pre> <h4 id="参数-5"><a href="#参数-5" aria-hidden="true" class="header-anchor">#</a> 参数</h4> <pre><code>{
    &quot;uid&quot;:101,  // * 用户id
    &quot;gids&quot;:[82, 83]    // * 功能权限id列表
}
</code></pre> <h4 id="响应-5"><a href="#响应-5" aria-hidden="true" class="header-anchor">#</a> 响应</h4> <pre><code>{
	&quot;code&quot;: 100000,
	&quot;msg&quot;: &quot;&quot;,
	&quot;data&quot;: null
}
</code></pre> <h3 id="qx-7-用户分配数据权限"><a href="#qx-7-用户分配数据权限" aria-hidden="true" class="header-anchor">#</a> QX-7. 用户分配数据权限</h3> <h4 id="请求-6"><a href="#请求-6" aria-hidden="true" class="header-anchor">#</a> 请求</h4> <pre><code>POST    /v2/userpower/datapower
</code></pre> <h4 id="参数-6"><a href="#参数-6" aria-hidden="true" class="header-anchor">#</a> 参数</h4> <pre><code>{
    &quot;uid&quot;:101, // * 用户id
    &quot;rids&quot;:[82, 83]    // * 数据权限id列表
}
</code></pre> <h4 id="响应-6"><a href="#响应-6" aria-hidden="true" class="header-anchor">#</a> 响应</h4> <pre><code>{
	&quot;code&quot;: 100000,
	&quot;msg&quot;: &quot;&quot;,
	&quot;data&quot;: null
}
</code></pre> <h3 id="qx-9-功能权限新增"><a href="#qx-9-功能权限新增" aria-hidden="true" class="header-anchor">#</a> QX-9. 功能权限新增</h3> <h4 id="请求-7"><a href="#请求-7" aria-hidden="true" class="header-anchor">#</a> 请求</h4> <pre><code>POST /v2/menupower
</code></pre> <h4 id="参数-7"><a href="#参数-7" aria-hidden="true" class="header-anchor">#</a> 参数</h4> <pre><code>{
	&quot;name&quot;:&quot;测试权限&quot;,  // * 权限名称
	&quot;isAuto&quot;:1,         // * 0 非自动生成编号 1 自动生成编号
	&quot;gid&quot;: 250,         // 权限编号，isAuto=0时，必选
	&quot;remark&quot;:&quot;备注&quot;,    // 备注
	&quot;menuIds&quot;:[3,5,11]  // 菜单id列表
}
</code></pre> <h4 id="响应-7"><a href="#响应-7" aria-hidden="true" class="header-anchor">#</a> 响应</h4> <pre><code>{
	&quot;code&quot;: 100000,
	&quot;msg&quot;: &quot;&quot;,
	&quot;data&quot;: null
}
</code></pre> <h3 id="qx-10-功能权限修改"><a href="#qx-10-功能权限修改" aria-hidden="true" class="header-anchor">#</a> QX-10. 功能权限修改</h3> <h4 id="请求-8"><a href="#请求-8" aria-hidden="true" class="header-anchor">#</a> 请求</h4> <pre><code>PUT /v2/menupower/{id}
</code></pre> <h4 id="参数-8"><a href="#参数-8" aria-hidden="true" class="header-anchor">#</a> 参数</h4> <pre><code>id // * 权限id
{
	&quot;name&quot;:&quot;测试权限&quot;,  //  权限名称
	&quot;remark&quot;:&quot;备注&quot;,    // 备注
	&quot;gid&quot;: 250,         // * 权限编号
	&quot;menuIds&quot;:[3,5,11]  // 菜单id列表
}
</code></pre> <h4 id="响应-8"><a href="#响应-8" aria-hidden="true" class="header-anchor">#</a> 响应</h4> <pre><code>{
	&quot;code&quot;: 100000,
	&quot;msg&quot;: &quot;&quot;,
	&quot;data&quot;: null
}
</code></pre> <h3 id="qx-11-功能权限的锁定、解锁"><a href="#qx-11-功能权限的锁定、解锁" aria-hidden="true" class="header-anchor">#</a> QX-11. 功能权限的锁定、解锁</h3> <h4 id="请求-9"><a href="#请求-9" aria-hidden="true" class="header-anchor">#</a> 请求</h4> <pre><code>PUT /v2/menupower/status/{id}
</code></pre> <h4 id="参数-9"><a href="#参数-9" aria-hidden="true" class="header-anchor">#</a> 参数</h4> <pre><code>id  // * 权限id
{
    &quot;status&quot;:&quot;lock&quot; // * lock 锁定 normal 解锁
}
</code></pre> <h4 id="响应-9"><a href="#响应-9" aria-hidden="true" class="header-anchor">#</a> 响应</h4> <pre><code>{
	&quot;code&quot;: 100000,
	&quot;msg&quot;: &quot;&quot;,
	&quot;data&quot;: null
}
</code></pre> <h3 id="qx-12-功能权限列表"><a href="#qx-12-功能权限列表" aria-hidden="true" class="header-anchor">#</a> QX-12. 功能权限列表</h3> <h4 id="请求-10"><a href="#请求-10" aria-hidden="true" class="header-anchor">#</a> 请求</h4> <pre><code>GET /v2/menupower
</code></pre> <h4 id="参数-10"><a href="#参数-10" aria-hidden="true" class="header-anchor">#</a> 参数</h4> <pre><code>keyword // 权限编号/权限名称
status  // 状态 lock 锁定 normal 解锁
uid // 用户id，结合asigned使用
asigned // yes 已绑定用户的列表 no 未绑定用户列表
buttonPermissionFlg // 0 不查询按钮权限 1 查询
pageNo  // 页码
pageSize    // 页条数
</code></pre> <h4 id="响应-10"><a href="#响应-10" aria-hidden="true" class="header-anchor">#</a> 响应</h4> <pre><code>{
    &quot;code&quot;: 100000,
    &quot;msg&quot;: &quot;&quot;,
    &quot;data&quot;: {
        &quot;buttonPermissions&quot;: [
            {
                &quot;lockButton&quot;: false,    // 锁定
                &quot;unlockButton&quot;: true,   // 解锁
                &quot;editButton&quot;: true,     // 编辑
            }
        ],
        &quot;dataSums&quot;: null,
        &quot;datas&quot;: [
            {
                &quot;createTime&quot;: &quot;&quot;,
                &quot;gid&quot;: 1112,    // 权限编号
                &quot;id&quot;: 37,   // 权限id
                &quot;isAuto&quot;: 0,
                &quot;menuIds&quot;: null,
                &quot;name&quot;: &quot;测试权限新增0&quot;,    // 权限名称
                &quot;remark&quot;: &quot;&quot;,
                &quot;status&quot;: &quot;lock&quot;,   // lock 锁定 normal 正常
                &quot;sys&quot;: &quot;a&quot;,
                &quot;uid&quot;: 0
            }
        ],
        &quot;pageNo&quot;: 1,
        &quot;total&quot;: 1
    }
}
</code></pre> <h3 id="qx-13-功能权限详情"><a href="#qx-13-功能权限详情" aria-hidden="true" class="header-anchor">#</a> QX-13. 功能权限详情</h3> <h4 id="请求-11"><a href="#请求-11" aria-hidden="true" class="header-anchor">#</a> 请求</h4> <pre><code>GET /v2/menupower/detail
</code></pre> <h4 id="参数-11"><a href="#参数-11" aria-hidden="true" class="header-anchor">#</a> 参数</h4> <pre><code>id  // * 权限id
</code></pre> <h4 id="响应-11"><a href="#响应-11" aria-hidden="true" class="header-anchor">#</a> 响应</h4> <pre><code>{
    &quot;code&quot;: 100000,
    &quot;msg&quot;: &quot;&quot;,
    &quot;data&quot;: {
        &quot;createTime&quot;: &quot;&quot;,
        &quot;gid&quot;: 42,  // 功能权限编号
        &quot;id&quot;: 18,
        &quot;isAuto&quot;: 0,
        &quot;menuIds&quot;: [    // 已绑定菜单列表
            37,
            55,
            60
        ],
        &quot;name&quot;: &quot;客服&quot;, // 功能权限名称
        &quot;remark&quot;: &quot;&quot;,   // 备注
        &quot;status&quot;: &quot;normal&quot;,
        &quot;sys&quot;: &quot;a&quot;,
        &quot;uid&quot;: 0
    }
}
</code></pre> <h3 id="qx-14-数据权限新增"><a href="#qx-14-数据权限新增" aria-hidden="true" class="header-anchor">#</a> QX-14. 数据权限新增</h3> <h4 id="请求-12"><a href="#请求-12" aria-hidden="true" class="header-anchor">#</a> 请求</h4> <pre><code>POST /v2/datapower
</code></pre> <h4 id="参数-12"><a href="#参数-12" aria-hidden="true" class="header-anchor">#</a> 参数</h4> <pre><code>{
    &quot;name&quot;:&quot;陆贞逸&quot;,  // * 数据权限名称
    &quot;gid&quot;:42    // * 功能权限编号
}
</code></pre> <h4 id="响应-12"><a href="#响应-12" aria-hidden="true" class="header-anchor">#</a> 响应</h4> <pre><code>{
	&quot;code&quot;: 100000,
	&quot;msg&quot;: &quot;&quot;,
	&quot;data&quot;: null
}
</code></pre> <h3 id="qx-15-数据权限修改"><a href="#qx-15-数据权限修改" aria-hidden="true" class="header-anchor">#</a> QX-15. 数据权限修改</h3> <h4 id="请求-13"><a href="#请求-13" aria-hidden="true" class="header-anchor">#</a> 请求</h4> <pre><code>PUT /v2/datapower/{id}
</code></pre> <h4 id="参数-13"><a href="#参数-13" aria-hidden="true" class="header-anchor">#</a> 参数</h4> <pre><code>id // * 数据权限id
{
    &quot;name&quot;:&quot;陆贞逸&quot;,    // 数据权限名称
    &quot;gid&quot;:42    // 功能权限编号
}
</code></pre> <h4 id="响应-13"><a href="#响应-13" aria-hidden="true" class="header-anchor">#</a> 响应</h4> <pre><code>{
	&quot;code&quot;: 100000,
	&quot;msg&quot;: &quot;&quot;,
	&quot;data&quot;: null
}
</code></pre> <h3 id="qx-16-数据权限删除"><a href="#qx-16-数据权限删除" aria-hidden="true" class="header-anchor">#</a> QX-16. 数据权限删除</h3> <h4 id="请求-14"><a href="#请求-14" aria-hidden="true" class="header-anchor">#</a> 请求</h4> <pre><code>DELETE  /v2/datapower/{id}
</code></pre> <h4 id="参数-14"><a href="#参数-14" aria-hidden="true" class="header-anchor">#</a> 参数</h4> <pre><code>id // * 数据权限id
</code></pre> <h4 id="响应-14"><a href="#响应-14" aria-hidden="true" class="header-anchor">#</a> 响应</h4> <pre><code>{
	&quot;code&quot;: 100000,
	&quot;msg&quot;: &quot;&quot;,
	&quot;data&quot;: null
}
</code></pre> <h3 id="qx-17-数据权限列表"><a href="#qx-17-数据权限列表" aria-hidden="true" class="header-anchor">#</a> QX-17. 数据权限列表</h3> <h4 id="请求-15"><a href="#请求-15" aria-hidden="true" class="header-anchor">#</a> 请求</h4> <pre><code>GET /v2/datapower
</code></pre> <h4 id="参数-15"><a href="#参数-15" aria-hidden="true" class="header-anchor">#</a> 参数</h4> <pre><code>keyword // 权限编号/权限名称
uid     // 用户id，结合asigned使用
asigned // yes 用户已分配的权限列表 no 用户未分配的权限列表
pageNo  // 页码
pageSize    // 页条数
</code></pre> <h4 id="响应-15"><a href="#响应-15" aria-hidden="true" class="header-anchor">#</a> 响应</h4> <pre><code>{
    &quot;code&quot;: 100000,
    &quot;msg&quot;: &quot;&quot;,
    &quot;data&quot;: {
        &quot;buttonPermissions&quot;: null,
        &quot;dataSums&quot;: null,
        &quot;datas&quot;: [
            {
                &quot;gid&quot;: 32,              // 功能权限编号
                &quot;gname&quot;: &quot;销售会计&quot;,    // 功能权限名称
                &quot;rid&quot;: 29001,           // 数据权限编号
                &quot;rname&quot;: &quot;张晓丹&quot;,      // 数据权限名称
                &quot;uid&quot;: 0
            }
        ],
        &quot;pageNo&quot;: 1,
        &quot;total&quot;: 1
    }
}
</code></pre> <h3 id="qx-18-数据权限详情"><a href="#qx-18-数据权限详情" aria-hidden="true" class="header-anchor">#</a> QX-18. 数据权限详情</h3> <h4 id="请求-16"><a href="#请求-16" aria-hidden="true" class="header-anchor">#</a> 请求</h4> <pre><code>GET /v2/datapower/detail
</code></pre> <h4 id="参数-16"><a href="#参数-16" aria-hidden="true" class="header-anchor">#</a> 参数</h4> <pre><code>rid // * 数据权限编号
</code></pre> <h4 id="响应-16"><a href="#响应-16" aria-hidden="true" class="header-anchor">#</a> 响应</h4> <pre><code>{
    &quot;code&quot;: 100000,
    &quot;msg&quot;: &quot;&quot;,
    &quot;data&quot;: {
        &quot;gid&quot;: 32,              // 功能权限编号
        &quot;gname&quot;: &quot;销售会计&quot;,    // 功能权限名称
        &quot;rid&quot;: 29001,           // 数据权限编号
        &quot;rname&quot;: &quot;张晓丹&quot;,      // 数据权限名称
        &quot;uid&quot;: 0
    }
}
</code></pre> <h3 id="qx-19-菜单新增"><a href="#qx-19-菜单新增" aria-hidden="true" class="header-anchor">#</a> QX-19. 菜单新增</h3> <h4 id="请求-17"><a href="#请求-17" aria-hidden="true" class="header-anchor">#</a> 请求</h4> <pre><code>POST    /v2/menu
</code></pre> <h4 id="参数-17"><a href="#参数-17" aria-hidden="true" class="header-anchor">#</a> 参数</h4> <pre><code>{
    &quot;name&quot;:&quot;商品统计&quot;,  // * 菜单名称
    &quot;level&quot;:1,          // * 菜单等级
    &quot;ctrl&quot;:&quot;product&quot;,   // * 一级路由
    &quot;action&quot;:&quot;store&quot;,   // 二级路由，level=2时，必选
    &quot;parentId&quot;:0,       // 上级菜单id,level=2时，必选
    &quot;icon&quot;:&quot;aware-syn&quot;  // 一级菜单图标，level=1时，必选
}
</code></pre> <h4 id="响应-17"><a href="#响应-17" aria-hidden="true" class="header-anchor">#</a> 响应</h4> <pre><code>{
	&quot;code&quot;: 100000,
	&quot;msg&quot;: &quot;&quot;,
	&quot;data&quot;: null
}
</code></pre> <h3 id="qx-20-菜单修改"><a href="#qx-20-菜单修改" aria-hidden="true" class="header-anchor">#</a> QX-20. 菜单修改</h3> <h4 id="请求-18"><a href="#请求-18" aria-hidden="true" class="header-anchor">#</a> 请求</h4> <pre><code>PUT     /v2/menu/{id}
</code></pre> <h4 id="参数-18"><a href="#参数-18" aria-hidden="true" class="header-anchor">#</a> 参数</h4> <pre><code>id  // * 菜单id
{
    &quot;name&quot;:&quot;商品统计&quot;,  // * 菜单名称
    &quot;level&quot;:1,          // * 菜单等级
    &quot;ctrl&quot;:&quot;product&quot;,   // * 一级路由
    &quot;action&quot;:&quot;store&quot;,   // 二级路由，level=2时，必选
    &quot;parentId&quot;:0,       // 上级菜单id,level=2时，必选
    &quot;icon&quot;:&quot;aware-syn&quot; // 一级菜单图标，level=1时，必选
}
</code></pre> <h4 id="响应-18"><a href="#响应-18" aria-hidden="true" class="header-anchor">#</a> 响应</h4> <pre><code>{
	&quot;code&quot;: 100000,
	&quot;msg&quot;: &quot;操作成功&quot;,
	&quot;data&quot;: null
}
</code></pre> <h3 id="qx-21-菜单显示、隐藏"><a href="#qx-21-菜单显示、隐藏" aria-hidden="true" class="header-anchor">#</a> QX-21. 菜单显示、隐藏</h3> <h4 id="请求-19"><a href="#请求-19" aria-hidden="true" class="header-anchor">#</a> 请求</h4> <pre><code>PUT     /v2/menu/status
</code></pre> <h4 id="参数-19"><a href="#参数-19" aria-hidden="true" class="header-anchor">#</a> 参数</h4> <pre><code>{
    &quot;ids&quot;:[3,5,7],      // 菜单id列表
    &quot;status&quot;:&quot;hidden&quot;,  // * show 显示 hidden 隐藏
}
</code></pre> <h4 id="响应-19"><a href="#响应-19" aria-hidden="true" class="header-anchor">#</a> 响应</h4> <pre><code>{
	&quot;code&quot;: 100000,
	&quot;msg&quot;: &quot;操作成功&quot;,
	&quot;data&quot;: null
}
</code></pre> <h3 id="qx-22-菜单排序"><a href="#qx-22-菜单排序" aria-hidden="true" class="header-anchor">#</a> QX-22. 菜单排序</h3> <h4 id="请求-20"><a href="#请求-20" aria-hidden="true" class="header-anchor">#</a> 请求</h4> <pre><code>PUT     /v2/menu/sort/{id}
</code></pre> <h4 id="参数-20"><a href="#参数-20" aria-hidden="true" class="header-anchor">#</a> 参数</h4> <pre><code>id  // * 菜单id
{
    &quot;sort&quot;:2,  // * 顺序
}
</code></pre> <h4 id="响应-20"><a href="#响应-20" aria-hidden="true" class="header-anchor">#</a> 响应</h4> <pre><code>{
	&quot;code&quot;: 100000,
	&quot;msg&quot;: &quot;操作成功&quot;,
	&quot;data&quot;: null
}
</code></pre> <h3 id="qx-23-菜单删除"><a href="#qx-23-菜单删除" aria-hidden="true" class="header-anchor">#</a> QX-23. 菜单删除</h3> <h4 id="请求-21"><a href="#请求-21" aria-hidden="true" class="header-anchor">#</a> 请求</h4> <pre><code>DELETE     /v2/menu/{id}
</code></pre> <h4 id="参数-21"><a href="#参数-21" aria-hidden="true" class="header-anchor">#</a> 参数</h4> <pre><code>id  // * 菜单id
</code></pre> <h4 id="响应-21"><a href="#响应-21" aria-hidden="true" class="header-anchor">#</a> 响应</h4> <pre><code>{
	&quot;code&quot;: 100000,
	&quot;msg&quot;: &quot;操作成功&quot;,
	&quot;data&quot;: null
}
</code></pre> <h3 id="qx-24-菜单列表"><a href="#qx-24-菜单列表" aria-hidden="true" class="header-anchor">#</a> QX-24. 菜单列表</h3> <h4 id="请求-22"><a href="#请求-22" aria-hidden="true" class="header-anchor">#</a> 请求</h4> <pre><code>GET     /v2/menu
</code></pre> <h4 id="参数-22"><a href="#参数-22" aria-hidden="true" class="header-anchor">#</a> 参数</h4> <pre><code>level   // 1：只获取一级菜单 其它：全部获取
buttonPermissionFlg //  1 查询按钮权限 0 不查询
</code></pre> <h4 id="响应-22"><a href="#响应-22" aria-hidden="true" class="header-anchor">#</a> 响应</h4> <pre><code>{
    &quot;code&quot;: 100000,
    &quot;msg&quot;: &quot;&quot;,
    &quot;data&quot;: {
        &quot;buttonPermissions&quot;: [
            {
                &quot;deleteButton&quot;: false,  // 删除
                &quot;editButton&quot;: true,     // 编辑
            }
        ],
        &quot;dataSums&quot;: null,
        &quot;datas&quot;: [
            {
                &quot;action&quot;: &quot;&quot;,               // 二级路由
                &quot;createTime&quot;: &quot;&quot;,   
                &quot;ctrl&quot;: &quot;depotmatchareas&quot;,  // 一级路由
                &quot;icon&quot;: &quot;&quot;,         // 图标
                &quot;id&quot;: 140,          // 菜单id
                &quot;level&quot;: 1,         // 菜单等级
                &quot;name&quot;: &quot;仓库管理&quot;, // 菜单名称
                &quot;params&quot;: &quot;&quot;,
                &quot;parentId&quot;: 0,      // 上级菜单id
                &quot;sort&quot;: 0,          // 排序
                &quot;status&quot;: &quot;show&quot;,   // show 显示 hidden 隐藏
                &quot;sys&quot;: &quot;&quot;
            }
            ......
        ],
        &quot;pageNo&quot;: 0,
        &quot;total&quot;: 0
    }
}
</code></pre> <h3 id="qx-25-菜单详情"><a href="#qx-25-菜单详情" aria-hidden="true" class="header-anchor">#</a> QX-25. 菜单详情</h3> <h4 id="请求-23"><a href="#请求-23" aria-hidden="true" class="header-anchor">#</a> 请求</h4> <pre><code>GET     /v2/menu/detail
</code></pre> <h4 id="参数-23"><a href="#参数-23" aria-hidden="true" class="header-anchor">#</a> 参数</h4> <pre><code>id // * 菜单id
</code></pre> <h4 id="响应-23"><a href="#响应-23" aria-hidden="true" class="header-anchor">#</a> 响应</h4> <pre><code>{
    &quot;code&quot;: 100000,
    &quot;msg&quot;: &quot;&quot;,
    &quot;data&quot;: {
        &quot;action&quot;: &quot;&quot;,           // 二级路由
        &quot;createTime&quot;: &quot;&quot;,
        &quot;ctrl&quot;: &quot;depotmatchareas&quot;,  // 一级路由
        &quot;icon&quot;: &quot;&quot;,         // 菜单图标
        &quot;id&quot;: 140,          // 菜单id
        &quot;level&quot;: 1,         // 菜单等级
        &quot;name&quot;: &quot;仓库管理&quot;, // 菜单名称
        &quot;params&quot;: &quot;&quot;,
        &quot;parentId&quot;: 0,  // 上级菜单id
        &quot;sort&quot;: 0,
        &quot;status&quot;: &quot;show&quot;,
        &quot;sys&quot;: &quot;&quot;
    }
}
</code></pre> <h3 id="qx-26-操作日志列表"><a href="#qx-26-操作日志列表" aria-hidden="true" class="header-anchor">#</a> QX-26. 操作日志列表</h3> <h4 id="请求-24"><a href="#请求-24" aria-hidden="true" class="header-anchor">#</a> 请求</h4> <pre><code>GET     /v2/systemlog
</code></pre> <h4 id="参数-24"><a href="#参数-24" aria-hidden="true" class="header-anchor">#</a> 参数</h4> <pre><code>type    // 日志类型 请参考下面操作类型说明
</code></pre> <h4 id="响应-24"><a href="#响应-24" aria-hidden="true" class="header-anchor">#</a> 响应</h4> <pre><code>操作类型说明：
1 开户，2 用户锁定，3 用户解锁，4 重置密码，
5 用户分配功能权限，6 用户取消分配功能权限，7 用户分配数据权限，
8 用户取消分配数据权限，9 功能权限绑定菜单，
10 功能权限取消绑定菜单

type 	操作内容
1		用户 uname 开户，
2		用户 uname 锁定，
3		用户 uname 解锁，
4		用户 uname 重置密码，
5		用户 uname 分配功能权限 gname,
6		用户 uname 取消分配功能权限 gname,
7		用户 uname 分配数据权限 rname,
8		用户 uname 取消分配数据权限 rname,
9		功能权限 gname 绑定菜单 mname,
10		功能权限 gname 取消绑定菜单 mname,
{
    &quot;code&quot;: 100000,
    &quot;msg&quot;: &quot;&quot;,
    &quot;data&quot;: {
        &quot;dataSums&quot;: null,
        &quot;datas&quot;: [
            {
                &quot;id&quot;: 0,
                &quot;type&quot;: &quot;9&quot;,             // 操作类型  
                &quot;action&quot;: &quot;功能权限绑定菜单&quot;,  
                &quot;uid&quot;: 0,                   
                &quot;uname&quot;: &quot;&quot;,            // 被操作的用户
                &quot;gid&quot;: 111,             
                &quot;gname&quot;: &quot;测试修改&quot;,    // 被操作的功能权限
                &quot;sys&quot;: &quot;&quot;,
                &quot;menuId&quot;: 82,
                &quot;mname&quot;: &quot;供应商用户列表&quot;,// 被操作菜单
                &quot;roleId&quot;: 0,
                &quot;rname&quot;: &quot;&quot;,            // 被操作数据权限
                &quot;createRole&quot;: 1,
                &quot;createTime&quot;: &quot;2018-08-22 14:28:55.0&quot;, // 操作时间
                &quot;createUser&quot;: 101,
                &quot;createUserName&quot;: &quot;樊嘉辉&quot;, // 操作人
            }
            ......
        ],
        &quot;pageNo&quot;: 1,
        &quot;total&quot;: 28
    }
}
</code></pre> <h3 id="qx-27-不分页的功能权限列表"><a href="#qx-27-不分页的功能权限列表" aria-hidden="true" class="header-anchor">#</a> QX-27. 不分页的功能权限列表</h3> <h4 id="请求-25"><a href="#请求-25" aria-hidden="true" class="header-anchor">#</a> 请求</h4> <pre><code>GET     /v2/menupower/nopage
</code></pre> <h4 id="参数-25"><a href="#参数-25" aria-hidden="true" class="header-anchor">#</a> 参数</h4> <pre><code>无
</code></pre> <h4 id="响应-25"><a href="#响应-25" aria-hidden="true" class="header-anchor">#</a> 响应</h4> <pre><code>{
    &quot;code&quot;: 100000,
    &quot;msg&quot;: &quot;&quot;,
    &quot;data&quot;: [
        {
            &quot;createTime&quot;: &quot;&quot;,
            &quot;gid&quot;: 41,              // 功能权限编号
            &quot;id&quot;: 60,               // 功能权限id
            &quot;isAuto&quot;: 0,
            &quot;menuIds&quot;: null,
            &quot;name&quot;: &quot;全部权限&quot;,     // 功能权限名称
            &quot;remark&quot;: &quot;&quot;,
            &quot;status&quot;: &quot;NORMAL&quot;,     // 状态
            &quot;sys&quot;: &quot;a&quot;,
            &quot;uid&quot;: 0
        },
.......
    ]
}
</code></pre> <h3 id="qx-28-根据ss-sr类型获取角色权限列表"><a href="#qx-28-根据ss-sr类型获取角色权限列表" aria-hidden="true" class="header-anchor">#</a> QX-28. 根据SS\SR类型获取角色权限列表</h3> <h4 id="请求-26"><a href="#请求-26" aria-hidden="true" class="header-anchor">#</a> 请求</h4> <pre><code>GET     /v2/datapower/roles
</code></pre> <h4 id="参数-26"><a href="#参数-26" aria-hidden="true" class="header-anchor">#</a> 参数</h4> <pre><code>type    // * 角色类型   可取值 ss  或  sr
</code></pre> <h4 id="响应-26"><a href="#响应-26" aria-hidden="true" class="header-anchor">#</a> 响应</h4> <pre><code>{
    &quot;code&quot;:100000,
    &quot;msg&quot;:&quot;&quot;,
    &quot;data&quot;:[
        {
            &quot;gid&quot;:24,
            &quot;rid&quot;:40,                   // 角色id
            &quot;roleName&quot;:&quot;高成举-SRM-T&quot;   // 角色名称
        },
        {
            &quot;gid&quot;:24,
            &quot;rid&quot;:479,
            &quot;roleName&quot;:&quot;王振华&quot;
        },
        {
            &quot;gid&quot;:24,
            &quot;rid&quot;:856,
            &quot;roleName&quot;:&quot;SRM-W-冯松&quot;
        }
    ]
}
</code></pre> <h3 id="qx-29-用户登陆后获取菜单"><a href="#qx-29-用户登陆后获取菜单" aria-hidden="true" class="header-anchor">#</a> QX-29. 用户登陆后获取菜单</h3> <h4 id="请求-27"><a href="#请求-27" aria-hidden="true" class="header-anchor">#</a> 请求</h4> <pre><code>GET     /v2/auth/getAllMenu
</code></pre> <h4 id="参数-27"><a href="#参数-27" aria-hidden="true" class="header-anchor">#</a> 参数</h4> <pre><code>token // * 
source // * 系统类型 a A网 sta 统计
</code></pre> <h4 id="_29-4-请求示例"><a href="#_29-4-请求示例" aria-hidden="true" class="header-anchor">#</a> 29.4 请求示例</h4> <pre><code>无
</code></pre> <h4 id="响应-27"><a href="#响应-27" aria-hidden="true" class="header-anchor">#</a> 响应</h4> <pre><code>{
    &quot;code&quot;: 100000,
    &quot;msg&quot;: &quot;&quot;,
    &quot;data&quot;: [
        {
            &quot;action&quot;: &quot;&quot;,       // 二级路由
            &quot;createTime&quot;: &quot;&quot;,
            &quot;ctrl&quot;: &quot;user&quot;,     // 一级路由
            &quot;id&quot;: 143,
            &quot;level&quot;: 1,         // 菜单等级
            &quot;name&quot;: &quot;账号管理&quot;, // 菜单名称
            &quot;params&quot;: &quot;&quot;,
            &quot;parentId&quot;: 0,      // 上级菜单
            &quot;sort&quot;: 0,          
            &quot;status&quot;: &quot;&quot;,
            &quot;sys&quot;: &quot;a&quot;,
            &quot;icon&quot;:&quot;abcde&quot;      // 图标
        }
        ......
    ]
}
</code></pre> <h3 id="qx-30-获取登录用户信息"><a href="#qx-30-获取登录用户信息" aria-hidden="true" class="header-anchor">#</a> QX-30. 获取登录用户信息</h3> <h4 id="请求-28"><a href="#请求-28" aria-hidden="true" class="header-anchor">#</a> 请求</h4> <pre><code>GET     /v2/auth/userInfo
</code></pre> <h4 id="参数-28"><a href="#参数-28" aria-hidden="true" class="header-anchor">#</a> 参数</h4> <pre><code>token // * 
source // * 系统类型 a A网 sta 统计
</code></pre> <h4 id="响应-28"><a href="#响应-28" aria-hidden="true" class="header-anchor">#</a> 响应</h4> <pre><code>{
    &quot;code&quot;: 100000,
    &quot;msg&quot;: &quot;&quot;,
    &quot;data&quot;: {
        &quot;workno&quot;: &quot;0101&quot;,       // 工号
        &quot;mobile&quot;: &quot;13478445016&quot;,    // 手机
        &quot;id&quot;: 101,              // 用户id
        &quot;fullname&quot;: &quot;樊嘉辉&quot;    // 用户名
    }
}</code></pre></div> <div class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">9/18/2018, 1:19:21 PM</span></div></div> <!----> </div> <!----></div></div>
    <script src="/work-a-api-v2/assets/js/6.5cae9cbe.js" defer></script><script src="/work-a-api-v2/assets/js/app.e6fba923.js" defer></script>
  </body>
</html>
